{"ast":null,"code":"function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nimport EnterLeaveCounter from './EnterLeaveCounter';\nimport { isFirefox } from './BrowserDetector';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nvar HTML5Backend = /*#__PURE__*/\nfunction () {\n  function HTML5Backend(manager, globalContext) {\n    var _this = this;\n    _classCallCheck(this, HTML5Backend);\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.sourceNodes = new Map();\n    this.sourceNodeOptions = new Map();\n    this.dragStartSourceIds = null;\n    this.dropTargetIds = [];\n    this.dragEnterTargetIds = [];\n    this.currentNativeSource = null;\n    this.currentNativeHandle = null;\n    this.currentDragSourceNode = null;\n    this.altKeyPressed = false;\n    this.mouseMoveTimeoutTimer = null;\n    this.asyncEndDragFrameId = null;\n    this.dragOverTargetIds = null;\n    this.getSourceClientOffset = function (sourceId) {\n      return getNodeClientOffset(_this.sourceNodes.get(sourceId));\n    };\n    this.endDragNativeItem = function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n      _this.actions.endDrag();\n      _this.registry.removeSource(_this.currentNativeHandle);\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    };\n    this.isNodeInDocument = function (node) {\n      // Check the node either in the main document or in the current context\n      return _this.document && _this.document.body && document.body.contains(node);\n    };\n    this.endDragIfSourceWasRemovedFromDOM = function () {\n      var node = _this.currentDragSourceNode;\n      if (_this.isNodeInDocument(node)) {\n        return;\n      }\n      if (_this.clearCurrentDragSourceNode()) {\n        _this.actions.endDrag();\n      }\n    };\n    this.handleTopDragStartCapture = function () {\n      _this.clearCurrentDragSourceNode();\n      _this.dragStartSourceIds = [];\n    };\n    this.handleTopDragStart = function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n          var sourceNode = _this.sourceNodes.get(sourceId);\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n              anchorX = _this$getCurrentSourc.anchorX,\n              anchorY = _this$getCurrentSourc.anchorY,\n              offsetX = _this$getCurrentSourc.offsetX,\n              offsetY = _this$getCurrentSourc.offsetY;\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer.setData('application/json', {});\n        } catch (err) {} // IE doesn't support MIME types in setData\n        // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n          captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    };\n    this.handleTopDragEndCapture = function () {\n      if (_this.clearCurrentDragSourceNode()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    };\n    this.handleTopDragEnterCapture = function (e) {\n      _this.dragEnterTargetIds = [];\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    };\n    this.handleTopDragEnter = function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n      _this.altKeyPressed = e.altKey;\n      if (!isFirefox()) {\n        // Don't emit hover in `dragenter` on Firefox due to an edge case.\n        // If the target changes position as the result of `dragenter`, Firefox\n        // will still happily dispatch `dragover` despite target being no longer\n        // there. The easy solution is to only fire `hover` in `dragover` on FF.\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    };\n    this.handleTopDragOverCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n    this.handleTopDragOver = function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n        return;\n      }\n      _this.altKeyPressed = e.altKey;\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    };\n    this.handleTopDragLeaveCapture = function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n      if (!isLastLeave) {\n        return;\n      }\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      }\n    };\n    this.handleTopDropCapture = function (e) {\n      _this.dropTargetIds = [];\n      e.preventDefault();\n      if (_this.isDraggingNativeItem()) {\n        _this.currentNativeSource.loadDataTransfer(e.dataTransfer);\n      }\n      _this.enterLeaveCounter.reset();\n    };\n    this.handleTopDrop = function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else {\n        _this.endDragIfSourceWasRemovedFromDOM();\n      }\n    };\n    this.handleSelectStart = function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n      e.preventDefault();\n      target.dragDrop();\n    };\n    this.options = new OptionsReader(globalContext);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  } // public for test\n\n  _createClass(HTML5Backend, [{\n    key: \"setup\",\n    value: function setup() {\n      if (this.window === undefined) {\n        return;\n      }\n      if (this.window.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n      this.window.__isReactDndBackendSetUp = true;\n      this.addEventListeners(this.window);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (this.window === undefined) {\n        return;\n      }\n      this.window.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.window);\n      this.clearCurrentDragSourceNode();\n      if (this.asyncEndDragFrameId) {\n        this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n        _this3.sourceNodeOptions.delete(sourceId);\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        return _this5.window && _this5.window.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n        if (this.window) {\n          this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }]);\n  return HTML5Backend;\n}();\nexport { HTML5Backend as default };","map":{"version":3,"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","prototype","EnterLeaveCounter","isFirefox","getNodeClientOffset","getEventClientOffset","getDragPreviewOffset","createNativeDragSource","matchNativeItemType","NativeTypes","OptionsReader","HTML5Backend","manager","globalContext","_this","sourcePreviewNodes","Map","sourcePreviewNodeOptions","sourceNodes","sourceNodeOptions","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","currentNativeSource","currentNativeHandle","currentDragSourceNode","altKeyPressed","mouseMoveTimeoutTimer","asyncEndDragFrameId","dragOverTargetIds","getSourceClientOffset","sourceId","get","endDragNativeItem","isDraggingNativeItem","actions","endDrag","registry","removeSource","isNodeInDocument","node","document","body","contains","endDragIfSourceWasRemovedFromDOM","clearCurrentDragSourceNode","handleTopDragStartCapture","handleTopDragStart","e","defaultPrevented","clientOffset","monitor","isDragging","beginDrag","publishSource","dataTransfer","nativeType","setDragImage","getSourceId","sourceNode","dragPreview","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","anchorX","anchorY","offsetX","offsetY","anchorPoint","offsetPoint","dragPreviewOffset","x","y","setData","err","setCurrentDragSourceNode","_this$getCurrentSourc2","captureDraggingState","setTimeout","publishDragSource","beginDragNativeItem","types","hasAttribute","preventDefault","handleTopDragEndCapture","handleTopDragEnterCapture","isFirstEnter","enterLeaveCounter","enter","handleTopDragEnter","altKey","hover","canDrop","some","targetId","canDropOnTarget","dropEffect","getCurrentDropEffect","handleTopDragOverCapture","handleTopDragOver","handleTopDragLeaveCapture","isLastLeave","leave","handleTopDropCapture","loadDataTransfer","reset","handleTopDrop","drop","handleSelectStart","dragDrop","tagName","isContentEditable","options","getActions","getMonitor","getRegistry","setup","window","undefined","__isReactDndBackendSetUp","Error","addEventListeners","teardown","removeEventListeners","cancelAnimationFrame","connectDragPreview","_this2","set","delete","connectDragSource","_this3","handleDragStart","setAttribute","addEventListener","removeEventListener","connectDropTarget","_this4","handleDragEnter","handleDragOver","handleDrop","getCurrentSourceNodeOptions","itemType","getItemType","type","addSource","_this5","MOUSE_MOVE_TIMEOUT","clearTimeout","unshift","default"],"sources":["C:/Users/diskk/OneDrive/Desktop/New folder/Transport_modal/node_modules/react-dnd-html5-backend/dist/esm/HTML5Backend.js"],"sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport EnterLeaveCounter from './EnterLeaveCounter';\nimport { isFirefox } from './BrowserDetector';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\n\nvar HTML5Backend =\n/*#__PURE__*/\nfunction () {\n  function HTML5Backend(manager, globalContext) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5Backend);\n\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.sourceNodes = new Map();\n    this.sourceNodeOptions = new Map();\n    this.dragStartSourceIds = null;\n    this.dropTargetIds = [];\n    this.dragEnterTargetIds = [];\n    this.currentNativeSource = null;\n    this.currentNativeHandle = null;\n    this.currentDragSourceNode = null;\n    this.altKeyPressed = false;\n    this.mouseMoveTimeoutTimer = null;\n    this.asyncEndDragFrameId = null;\n    this.dragOverTargetIds = null;\n\n    this.getSourceClientOffset = function (sourceId) {\n      return getNodeClientOffset(_this.sourceNodes.get(sourceId));\n    };\n\n    this.endDragNativeItem = function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      _this.registry.removeSource(_this.currentNativeHandle);\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    };\n\n    this.isNodeInDocument = function (node) {\n      // Check the node either in the main document or in the current context\n      return _this.document && _this.document.body && document.body.contains(node);\n    };\n\n    this.endDragIfSourceWasRemovedFromDOM = function () {\n      var node = _this.currentDragSourceNode;\n\n      if (_this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode()) {\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragStartCapture = function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    };\n\n    this.handleTopDragStart = function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer.setData('application/json', {});\n        } catch (err) {} // IE doesn't support MIME types in setData\n        // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    };\n\n    this.handleTopDragEndCapture = function () {\n      if (_this.clearCurrentDragSourceNode()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragEnterCapture = function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    };\n\n    this.handleTopDragEnter = function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      if (!isFirefox()) {\n        // Don't emit hover in `dragenter` on Firefox due to an edge case.\n        // If the target changes position as the result of `dragenter`, Firefox\n        // will still happily dispatch `dragover` despite target being no longer\n        // there. The easy solution is to only fire `hover` in `dragover` on FF.\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    };\n\n    this.handleTopDragOverCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n\n    this.handleTopDragOver = function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    };\n\n    this.handleTopDragLeaveCapture = function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      }\n    };\n\n    this.handleTopDropCapture = function (e) {\n      _this.dropTargetIds = [];\n      e.preventDefault();\n\n      if (_this.isDraggingNativeItem()) {\n        _this.currentNativeSource.loadDataTransfer(e.dataTransfer);\n      }\n\n      _this.enterLeaveCounter.reset();\n    };\n\n    this.handleTopDrop = function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else {\n        _this.endDragIfSourceWasRemovedFromDOM();\n      }\n    };\n\n    this.handleSelectStart = function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    };\n\n    this.options = new OptionsReader(globalContext);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  } // public for test\n\n\n  _createClass(HTML5Backend, [{\n    key: \"setup\",\n    value: function setup() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      if (this.window.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      this.window.__isReactDndBackendSetUp = true;\n      this.addEventListeners(this.window);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      this.window.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.window);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        return _this5.window && _this5.window.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.window) {\n          this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }]);\n\n  return HTML5Backend;\n}();\n\nexport { HTML5Backend as default };"],"mappings":"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"},"metadata":{},"sourceType":"module"}