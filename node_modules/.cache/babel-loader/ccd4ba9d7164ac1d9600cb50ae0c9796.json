{"ast":null,"code":"import\"antd/es/modal/style\";import _Modal from\"antd/es/modal\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import\"antd/es/checkbox/style\";import _Checkbox from\"antd/es/checkbox\";import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import\"antd/es/form/style\";import _Form from\"antd/es/form\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import FeatherIcon from'feather-icons-react';import{Button}from'../../../components/buttons/buttons';import{Dropdown}from'../../../components/dropdown/dropdown';import{BasicFormWrapper}from'../../styled';import{TaskListWrap}from'../style';import{onStarUpdate,ontaskDelete,onCompleteUpdate,ontaskEdit}from'../../../redux/task/actionCreator';var All=function All(){var dispatch=useDispatch();var _Form$useForm=_Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var task=useSelector(function(state){return state.Task.data;});var _useState=useState({visible:false,taskEditId:'',editableItem:{}}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var showModal=function showModal(id,item){setState(_objectSpread(_objectSpread({},state),{},{taskEditId:id,visible:true,editableItem:item}));};var handleCancel=function handleCancel(){setState(_objectSpread(_objectSpread({},state),{},{visible:false}));};var taskEditId=state.taskEditId,editableItem=state.editableItem,visible=state.visible;var handleTaskDelete=function handleTaskDelete(id){var value=task.filter(function(item){return item.id!==id;});dispatch(ontaskDelete(value));};var onEditHandle=function onEditHandle(data,id){var updatedData=task.map(function(item){if(item.id===id){// eslint-disable-next-line no-param-reassign\nitem=data;return item;}return item;});setState(_objectSpread(_objectSpread({},state),{},{visible:false}));dispatch(ontaskEdit(updatedData));};useEffect(function(){if(visible){form.setFieldsValue(editableItem);}},[form,editableItem,visible]);return/*#__PURE__*/React.createElement(TaskListWrap,{className:\"mb-30\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sDash_tasklist-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sDash_tasklist-head\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"sDash_task-list-title\"},\"Task Lists\")),/*#__PURE__*/React.createElement(\"div\",{className:\"sDash_tasklist-body\"},task.length>0?/*#__PURE__*/React.createElement(\"ul\",{className:\"sDash_tasks\"},task.sort(function(a,b){return b.id-a.id;}).map(function(item,i){return/*#__PURE__*/React.createElement(\"li\",{className:\"sDash_tasks-item\",key:i},/*#__PURE__*/React.createElement(\"div\",{className:\"sDash_tasks-item__content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sDash_tasks-item__title\"},/*#__PURE__*/React.createElement(_Checkbox,{checked:!!item.completed,onChange:function onChange(){return dispatch(onCompleteUpdate(task,item.id));}},item.title)),/*#__PURE__*/React.createElement(\"div\",{className:\"sDash_tasks-item__text\"},/*#__PURE__*/React.createElement(\"p\",null,item.description))),/*#__PURE__*/React.createElement(\"div\",{className:\"sDash_tasks-item__action\"},/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"\".concat(item.favourite?'task-favourite active':'task-favourite'),onClick:function onClick(){return dispatch(onStarUpdate(task,item.id));}},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"star\",size:14})),/*#__PURE__*/React.createElement(Dropdown,{content:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{to:\"#\",onClick:function onClick(){return showModal(item.id,item);}},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"edit\",size:14}),/*#__PURE__*/React.createElement(\"span\",null,\"Edit\")),/*#__PURE__*/React.createElement(Link,{to:\"#\",onClick:function onClick(){return handleTaskDelete(item.id);}},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"trash-2\",size:14}),/*#__PURE__*/React.createElement(\"span\",null,\"Delete\")))},/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"more-vertical\",size:18})))));})):/*#__PURE__*/React.createElement(\"div\",{className:\"sDash_empty-task\"},/*#__PURE__*/React.createElement(\"span\",null,\"Sorry !! No Task Found :(\")))),/*#__PURE__*/React.createElement(_Modal,{title:\"Edit Task\",className:\"sDash_addTask-modal\",type:state.modalType,visible:state.visible,footer:null,onCancel:handleCancel,forceRender:true},/*#__PURE__*/React.createElement(\"div\",{className:\"sDash_addTask-modal-inner\"},task.sort(function(a,b){return b.id-a.id;}).filter(function(item){return item.id===taskEditId;}).map(function(value,i){return/*#__PURE__*/React.createElement(BasicFormWrapper,{key:i},/*#__PURE__*/React.createElement(_Form,{form:form,name:\"add-task\",onFinish:function onFinish(eData){return onEditHandle(eData,value.id);}},/*#__PURE__*/React.createElement(_Form.Item,{rules:[{required:true,message:'Please add a Title'}],name:\"title\",initialValue:value.title},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Title\"})),/*#__PURE__*/React.createElement(_Form.Item,{name:\"description\",initialValue:value.description},/*#__PURE__*/React.createElement(_Input.TextArea,{rows:4,placeholder:\"Add Description\"})),/*#__PURE__*/React.createElement(_Form.Item,{hidden:\"true\",name:\"favourite\",initialValue:value.favourite},/*#__PURE__*/React.createElement(_Input,null)),/*#__PURE__*/React.createElement(_Form.Item,{hidden:\"true\",name:\"completed\",initialValue:value.completed},/*#__PURE__*/React.createElement(_Input,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"sDash-modal-actions\"},/*#__PURE__*/React.createElement(Button,{size:\"small\",type:\"white\",key:\"cancel\",outlined:true,onClick:handleCancel},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{htmlType:\"submit\",size:\"small\",type:\"primary\",key:\"submit\"},\"Edit\"))));}))));};export default All;","map":null,"metadata":{},"sourceType":"module"}