{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useLayoutEffect}from'react';import FeatherIcon from'feather-icons-react';import{Link,NavLink}from'react-router-dom';import CalenDar from'react-calendar';import moment from'moment';import{useSelector,useDispatch}from'react-redux';import AddNewEvent from'./AddNewEvent';import ProjectUpdate from'./ProjectUpdate';import{Cards}from'../../../components/cards/frame/cards-frame';import{Button}from'../../../components/buttons/buttons';import'./style.css';import{eventVisible,addNewEvents,calendarDeleteData}from'../../../redux/calendar/actionCreator';import{Modal}from'../../../components/modals/antd-modals';import{Dropdown}from'../../../components/dropdown/dropdown';var DayCalendar=function DayCalendar(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{events:state.Calender.events,isVisible:state.Calender.eventVisible};}),events=_useSelector.events,isVisible=_useSelector.isVisible;var _useState=useState({date:new Date(),container:null,currentLabel:moment().format('MMMM YYYY'),defaultValue:moment().format('YYYY-MM-DD')}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var date=state.date,container=state.container,currentLabel=state.currentLabel,defaultValue=state.defaultValue;useLayoutEffect(function(){var button=document.querySelector('.calendar-header__left .react-calendar__navigation .react-calendar__navigation__label');var containers=document.querySelector('.calendar-header__left .react-calendar__viewContainer');var calenderDom=document.querySelectorAll('.ant-picker-calendar-date-content');calenderDom.forEach(function(element){element.addEventListener('click',function(e){if(e.target.classList[0]==='ant-picker-calendar-date-content'){setState({container:containers,date:date,currentLabel:currentLabel,defaultValue:defaultValue});dispatch(eventVisible(true));}});});button.addEventListener('click',function(){return containers.classList.add('show');});setState({container:containers,defaultValue:defaultValue,date:date,currentLabel:currentLabel});},[date,currentLabel,defaultValue,dispatch]);var onChange=function onChange(dt){return setState(_objectSpread(_objectSpread({},state),{},{date:dt,defaultValue:moment(dt).format('YYYY-MM-DD')}));};var onEventDelete=function onEventDelete(id){var data=events.filter(function(item){return item.id!==id;});dispatch(calendarDeleteData(data));};var handleCancel=function handleCancel(){dispatch(eventVisible(false));};var addNew=function addNew(event){var arrayData=[];events.map(function(data){return arrayData.push(data.id);});var max=Math.max.apply(Math,arrayData);dispatch(addNewEvents([].concat(_toConsumableArray(events),[_objectSpread(_objectSpread({},event),{},{id:max+1})])));dispatch(eventVisible(false));};var eventTimes=['12 AM','1 AM','2 AM','3 AM','4 AM','5 AM','6 AM','7 AM','8 AM','9 AM','10 AM','11 AM','12 PM','1 PM','2 PM','3 PM','4 PM','5 PM','6 PM','7 PM','8 PM','9 PM','10 PM','11 PM'];return/*#__PURE__*/React.createElement(Cards,{headless:true},/*#__PURE__*/React.createElement(Modal,{className:\"addEvent-modal\",footer:null,type:\"primary\",title:\"Create Event\",visible:isVisible,onCancel:handleCancel},/*#__PURE__*/React.createElement(AddNewEvent,{onHandleAddEvent:addNew,defaultValue:defaultValue})),/*#__PURE__*/React.createElement(\"div\",{className:\"calendar-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"calendar-header__left\"},/*#__PURE__*/React.createElement(Button,{className:\"btn-today\",type:\"white\",size:\"small\",outlined:true},/*#__PURE__*/React.createElement(NavLink,{to:\"./day\"},\"Today\")),/*#__PURE__*/React.createElement(CalenDar,{onClickDay:function onClickDay(){container.classList.remove('show');},onActiveStartDateChange:function onActiveStartDateChange(_ref){var activeStartDate=_ref.activeStartDate;return setState(_objectSpread(_objectSpread({},state),{},{currentLabel:moment(activeStartDate).format('MMMM YYYY'),defaultValue:moment(activeStartDate).format('YYYY-MM-DD')}));},next2Label:null,prev2Label:null,nextLabel:/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"chevron-right\"}),prevLabel:/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"chevron-left\"}),onChange:onChange,navigationLabel:function navigationLabel(){return\"\".concat(moment(defaultValue).format('MMMM DD, YYYY'));},value:state.date})),/*#__PURE__*/React.createElement(\"div\",{className:\"calendar-header__right\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"./day\"},\"Day\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"./week\"},\"Week\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"./month\"},\"Month\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"./year\"},\"Year\"))),/*#__PURE__*/React.createElement(NavLink,{className:\"schedule-list\",to:\"./schedule\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"list\"}),\"Schedule\"))),/*#__PURE__*/React.createElement(\"table\",{className:\"table-event\",width:\"100%\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"\\xA0\"),/*#__PURE__*/React.createElement(\"th\",null,/*#__PURE__*/React.createElement(\"p\",null,moment(defaultValue).format('dddd'))))),/*#__PURE__*/React.createElement(\"tbody\",null,eventTimes.map(function(time,key){return/*#__PURE__*/React.createElement(\"tr\",{key:key+1},/*#__PURE__*/React.createElement(\"td\",{style:{width:'60px'}},time),/*#__PURE__*/React.createElement(\"td\",{className:\"ant-picker-calendar-date-content \".concat(moment().format('h A')===time?'current-data':null)},moment().format('h A')===time?/*#__PURE__*/React.createElement(\"span\",{className:\"currentTime secondary\"}):null,events.map(function(event){return moment(defaultValue).format('MM/DD/YYYY')===event.date[0]&&time===moment(event.time[0],'h:mm a').format('h A')&&/*#__PURE__*/React.createElement(Dropdown,{className:\"event-dropdown\",key:event.id,style:{padding:0},placement:\"bottomLeft\",content:/*#__PURE__*/React.createElement(ProjectUpdate,Object.assign({onEventDelete:onEventDelete},event)),action:['click']},/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"\".concat(event.label,\" day-event-item\")},/*#__PURE__*/React.createElement(\"span\",{className:\"event-title\"},event.title),/*#__PURE__*/React.createElement(\"span\",null,\"\".concat(event.time[0],\" - \").concat(event.time[1]))));})));}))));};export default DayCalendar;","map":null,"metadata":{},"sourceType":"module"}