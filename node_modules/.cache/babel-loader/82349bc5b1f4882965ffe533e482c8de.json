{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.go = undefined;\nexports.isSuccess = isSuccess;\nexports.isDone = isDone;\nexports.hasError = hasError;\nvar _immutable = require('immutable');\nvar _data_utils = require('./utils/data_utils');\nvar _index = require('./core/index');\nvar l = _interopRequireWildcard(_index);\nvar _index2 = require('./store/index');\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nvar _dataFns = (0, _data_utils.dataFns)(['sync']),\n  get = _dataFns.get,\n  set = _dataFns.set;\nexports.default = function (m, key, opts) {\n  if (get(m, key) !== undefined) return m;\n  var status = opts.waitFn ? 'waiting' : !opts.conditionFn || opts.conditionFn(m) ? 'pending' : 'no';\n  return set(m, key, (0, _immutable.Map)({\n    conditionFn: opts.conditionFn,\n    errorFn: opts.errorFn,\n    recoverResult: opts.recoverResult,\n    syncStatus: status,\n    successFn: opts.successFn,\n    syncFn: opts.syncFn,\n    timeout: opts.timeout || 6000,\n    waitFn: opts.waitFn\n  }));\n};\nvar syncStatusKey = function syncStatusKey(key) {\n  return (window.Array.isArray(key) ? key : [key]).concat(['syncStatus']);\n};\nvar getStatus = function getStatus(m, key) {\n  return get(m, syncStatusKey(key));\n};\nvar setStatus = function setStatus(m, key, str) {\n  return set(m, syncStatusKey(key), str);\n};\nvar getProp = function getProp(m, key, name) {\n  return get(m, key).get(name);\n};\nvar findKeys = function findKeys(m) {\n  return m.reduce(function (r, v, k) {\n    var current = _immutable.Map.isMap(v) && v.has('syncStatus') ? [k] : [];\n    var nested = _immutable.Map.isMap(v) ? findKeys(v).map(function (x) {\n      return [k].concat(x);\n    }) : [];\n    return r.concat.apply(r, [current].concat([nested]));\n  }, []);\n};\nfunction removeKeys(m, keys) {\n  return keys.reduce(function (r, k) {\n    return r.deleteIn(syncStatusKey(k));\n  }, m);\n}\nvar process = function process(m, id) {\n  var keys = findKeys(get(m, [], (0, _immutable.Map)()));\n  // TODO timeout\n  return keys.reduce(function (r, k) {\n    if (typeof getProp(r, k, 'syncFn') != 'function') return r;\n    if (getStatus(r, k) === 'pending') {\n      r = setStatus(r, k, 'loading');\n      var called = false;\n      getProp(r, k, 'syncFn')(r, function (error, result) {\n        if (called) return;\n        called = true;\n        setTimeout(function () {\n          (0, _index2.swap)(_index2.updateEntity, 'lock', id, function (m) {\n            var errorFn = getProp(r, k, 'errorFn');\n            if (error && typeof errorFn === 'function') {\n              setTimeout(function () {\n                return errorFn(m, error);\n              }, 0);\n            }\n            var recoverResult = getProp(m, k, 'recoverResult');\n            if (error && recoverResult === undefined) {\n              return handleError(m, k, error);\n            } else {\n              m = setStatus(m, k, 'ok');\n              return getProp(m, k, 'successFn')(m, error ? recoverResult : result);\n            }\n          });\n        }, 0);\n      });\n    } else if (getStatus(r, k) === 'waiting') {\n      if (getProp(r, k, 'waitFn')(r)) {\n        var conditionFn = getProp(r, k, 'conditionFn');\n        r = setStatus(r, k, !conditionFn || conditionFn(r) ? 'pending' : 'no');\n      }\n    }\n    return r;\n  }, m);\n};\nvar go = exports.go = function go(id) {\n  (0, _index2.observe)('sync', id, function (m) {\n    setTimeout(function () {\n      return (0, _index2.swap)(_index2.updateEntity, 'lock', id, process, id);\n    }, 0);\n  });\n};\nfunction isSuccess(m, key) {\n  return getStatus(m, key) === 'ok';\n}\nfunction isDone(m) {\n  var keys = findKeys(get(m, [], (0, _immutable.Map)()));\n  return keys.length > 0 && keys.reduce(function (r, k) {\n    return r && !isLoading(m, k);\n  }, true);\n}\nfunction hasError(m) {\n  var excludeKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var keys = findKeys(removeKeys(get(m, [], (0, _immutable.Map)()), excludeKeys));\n  return keys.length > 0 && keys.reduce(function (r, k) {\n    return r || getStatus(m, k) === 'error';\n  }, false);\n}\nfunction isLoading(m, key) {\n  return ['loading', 'pending', 'waiting'].indexOf(getStatus(m, key)) > -1;\n}\nfunction handleError(m, key, error) {\n  var result = setStatus(m, key, 'error');\n\n  // TODO: this should be configurable for each sync\n  if (key !== 'sso') {\n    var stopError = new Error('An error occurred when fetching ' + key + ' data for Lock: ' + error.message);\n    stopError.code = 'sync';\n    stopError.origin = error;\n    result = l.stop(result, stopError);\n  }\n  return result;\n}","map":{"version":3,"names":["exports","__esModule","go","undefined","isSuccess","isDone","hasError","_immutable","require","_data_utils","_index","l","_interopRequireWildcard","_index2","obj","newObj","key","Object","prototype","hasOwnProperty","call","default","_dataFns","dataFns","get","set","m","opts","status","waitFn","conditionFn","Map","errorFn","recoverResult","syncStatus","successFn","syncFn","timeout","syncStatusKey","window","Array","isArray","concat","getStatus","setStatus","str","getProp","name","findKeys","reduce","r","v","k","current","isMap","has","nested","map","x","apply","removeKeys","keys","deleteIn","process","id","called","error","result","setTimeout","swap","updateEntity","handleError","observe","length","isLoading","excludeKeys","arguments","indexOf","stopError","Error","message","code","origin","stop"],"sources":["C:/Users/diskk/OneDrive/Desktop/New folder/Transport_modal/node_modules/auth0-lock/lib/sync.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.go = undefined;\nexports.isSuccess = isSuccess;\nexports.isDone = isDone;\nexports.hasError = hasError;\n\nvar _immutable = require('immutable');\n\nvar _data_utils = require('./utils/data_utils');\n\nvar _index = require('./core/index');\n\nvar l = _interopRequireWildcard(_index);\n\nvar _index2 = require('./store/index');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _dataFns = (0, _data_utils.dataFns)(['sync']),\n    get = _dataFns.get,\n    set = _dataFns.set;\n\nexports.default = function (m, key, opts) {\n  if (get(m, key) !== undefined) return m;\n\n  var status = opts.waitFn ? 'waiting' : !opts.conditionFn || opts.conditionFn(m) ? 'pending' : 'no';\n\n  return set(m, key, (0, _immutable.Map)({\n    conditionFn: opts.conditionFn,\n    errorFn: opts.errorFn,\n    recoverResult: opts.recoverResult,\n    syncStatus: status,\n    successFn: opts.successFn,\n    syncFn: opts.syncFn,\n    timeout: opts.timeout || 6000,\n    waitFn: opts.waitFn\n  }));\n};\n\nvar syncStatusKey = function syncStatusKey(key) {\n  return (window.Array.isArray(key) ? key : [key]).concat(['syncStatus']);\n};\nvar getStatus = function getStatus(m, key) {\n  return get(m, syncStatusKey(key));\n};\nvar setStatus = function setStatus(m, key, str) {\n  return set(m, syncStatusKey(key), str);\n};\nvar getProp = function getProp(m, key, name) {\n  return get(m, key).get(name);\n};\n\nvar findKeys = function findKeys(m) {\n  return m.reduce(function (r, v, k) {\n    var current = _immutable.Map.isMap(v) && v.has('syncStatus') ? [k] : [];\n    var nested = _immutable.Map.isMap(v) ? findKeys(v).map(function (x) {\n      return [k].concat(x);\n    }) : [];\n    return r.concat.apply(r, [current].concat([nested]));\n  }, []);\n};\n\nfunction removeKeys(m, keys) {\n  return keys.reduce(function (r, k) {\n    return r.deleteIn(syncStatusKey(k));\n  }, m);\n}\n\nvar process = function process(m, id) {\n  var keys = findKeys(get(m, [], (0, _immutable.Map)()));\n  // TODO timeout\n  return keys.reduce(function (r, k) {\n    if (typeof getProp(r, k, 'syncFn') != 'function') return r;\n    if (getStatus(r, k) === 'pending') {\n      r = setStatus(r, k, 'loading');\n      var called = false;\n      getProp(r, k, 'syncFn')(r, function (error, result) {\n        if (called) return;\n        called = true;\n        setTimeout(function () {\n          (0, _index2.swap)(_index2.updateEntity, 'lock', id, function (m) {\n            var errorFn = getProp(r, k, 'errorFn');\n\n            if (error && typeof errorFn === 'function') {\n              setTimeout(function () {\n                return errorFn(m, error);\n              }, 0);\n            }\n\n            var recoverResult = getProp(m, k, 'recoverResult');\n\n            if (error && recoverResult === undefined) {\n              return handleError(m, k, error);\n            } else {\n              m = setStatus(m, k, 'ok');\n              return getProp(m, k, 'successFn')(m, error ? recoverResult : result);\n            }\n          });\n        }, 0);\n      });\n    } else if (getStatus(r, k) === 'waiting') {\n      if (getProp(r, k, 'waitFn')(r)) {\n        var conditionFn = getProp(r, k, 'conditionFn');\n        r = setStatus(r, k, !conditionFn || conditionFn(r) ? 'pending' : 'no');\n      }\n    }\n\n    return r;\n  }, m);\n};\n\nvar go = exports.go = function go(id) {\n  (0, _index2.observe)('sync', id, function (m) {\n    setTimeout(function () {\n      return (0, _index2.swap)(_index2.updateEntity, 'lock', id, process, id);\n    }, 0);\n  });\n};\n\nfunction isSuccess(m, key) {\n  return getStatus(m, key) === 'ok';\n}\n\nfunction isDone(m) {\n  var keys = findKeys(get(m, [], (0, _immutable.Map)()));\n  return keys.length > 0 && keys.reduce(function (r, k) {\n    return r && !isLoading(m, k);\n  }, true);\n}\n\nfunction hasError(m) {\n  var excludeKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var keys = findKeys(removeKeys(get(m, [], (0, _immutable.Map)()), excludeKeys));\n  return keys.length > 0 && keys.reduce(function (r, k) {\n    return r || getStatus(m, k) === 'error';\n  }, false);\n}\n\nfunction isLoading(m, key) {\n  return ['loading', 'pending', 'waiting'].indexOf(getStatus(m, key)) > -1;\n}\n\nfunction handleError(m, key, error) {\n  var result = setStatus(m, key, 'error');\n\n  // TODO: this should be configurable for each sync\n  if (key !== 'sso') {\n    var stopError = new Error('An error occurred when fetching ' + key + ' data for Lock: ' + error.message);\n    stopError.code = 'sync';\n    stopError.origin = error;\n    result = l.stop(result, stopError);\n  }\n\n  return result;\n}\n"],"mappings":"AAAA,YAAY;;AAEZA,OAAO,CAACC,UAAU,GAAG,IAAI;AACzBD,OAAO,CAACE,EAAE,GAAGC,SAAS;AACtBH,OAAO,CAACI,SAAS,GAAGA,SAAS;AAC7BJ,OAAO,CAACK,MAAM,GAAGA,MAAM;AACvBL,OAAO,CAACM,QAAQ,GAAGA,QAAQ;AAE3B,IAAIC,UAAU,GAAGC,OAAO,CAAC,WAAW,CAAC;AAErC,IAAIC,WAAW,GAAGD,OAAO,CAAC,oBAAoB,CAAC;AAE/C,IAAIE,MAAM,GAAGF,OAAO,CAAC,cAAc,CAAC;AAEpC,IAAIG,CAAC,GAAGC,uBAAuB,CAACF,MAAM,CAAC;AAEvC,IAAIG,OAAO,GAAGL,OAAO,CAAC,eAAe,CAAC;AAEtC,SAASI,uBAAuBA,CAACE,GAAG,EAAE;EAAE,IAAIA,GAAG,IAAIA,GAAG,CAACb,UAAU,EAAE;IAAE,OAAOa,GAAG;EAAE,CAAC,MAAM;IAAE,IAAIC,MAAM,GAAG,CAAC,CAAC;IAAE,IAAID,GAAG,IAAI,IAAI,EAAE;MAAE,KAAK,IAAIE,GAAG,IAAIF,GAAG,EAAE;QAAE,IAAIG,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACN,GAAG,EAAEE,GAAG,CAAC,EAAED,MAAM,CAACC,GAAG,CAAC,GAAGF,GAAG,CAACE,GAAG,CAAC;MAAE;IAAE;IAAED,MAAM,CAACM,OAAO,GAAGP,GAAG;IAAE,OAAOC,MAAM;EAAE;AAAE;AAE5Q,IAAIO,QAAQ,GAAG,CAAC,CAAC,EAAEb,WAAW,CAACc,OAAO,EAAE,CAAC,MAAM,CAAC,CAAC;EAC7CC,GAAG,GAAGF,QAAQ,CAACE,GAAG;EAClBC,GAAG,GAAGH,QAAQ,CAACG,GAAG;AAEtBzB,OAAO,CAACqB,OAAO,GAAG,UAAUK,CAAC,EAAEV,GAAG,EAAEW,IAAI,EAAE;EACxC,IAAIH,GAAG,CAACE,CAAC,EAAEV,GAAG,CAAC,KAAKb,SAAS,EAAE,OAAOuB,CAAC;EAEvC,IAAIE,MAAM,GAAGD,IAAI,CAACE,MAAM,GAAG,SAAS,GAAG,CAACF,IAAI,CAACG,WAAW,IAAIH,IAAI,CAACG,WAAW,CAACJ,CAAC,CAAC,GAAG,SAAS,GAAG,IAAI;EAElG,OAAOD,GAAG,CAACC,CAAC,EAAEV,GAAG,EAAE,CAAC,CAAC,EAAET,UAAU,CAACwB,GAAG,EAAE;IACrCD,WAAW,EAAEH,IAAI,CAACG,WAAW;IAC7BE,OAAO,EAAEL,IAAI,CAACK,OAAO;IACrBC,aAAa,EAAEN,IAAI,CAACM,aAAa;IACjCC,UAAU,EAAEN,MAAM;IAClBO,SAAS,EAAER,IAAI,CAACQ,SAAS;IACzBC,MAAM,EAAET,IAAI,CAACS,MAAM;IACnBC,OAAO,EAAEV,IAAI,CAACU,OAAO,IAAI,IAAI;IAC7BR,MAAM,EAAEF,IAAI,CAACE;EACf,CAAC,CAAC,CAAC;AACL,CAAC;AAED,IAAIS,aAAa,GAAG,SAASA,aAAaA,CAACtB,GAAG,EAAE;EAC9C,OAAO,CAACuB,MAAM,CAACC,KAAK,CAACC,OAAO,CAACzB,GAAG,CAAC,GAAGA,GAAG,GAAG,CAACA,GAAG,CAAC,EAAE0B,MAAM,CAAC,CAAC,YAAY,CAAC,CAAC;AACzE,CAAC;AACD,IAAIC,SAAS,GAAG,SAASA,SAASA,CAACjB,CAAC,EAAEV,GAAG,EAAE;EACzC,OAAOQ,GAAG,CAACE,CAAC,EAAEY,aAAa,CAACtB,GAAG,CAAC,CAAC;AACnC,CAAC;AACD,IAAI4B,SAAS,GAAG,SAASA,SAASA,CAAClB,CAAC,EAAEV,GAAG,EAAE6B,GAAG,EAAE;EAC9C,OAAOpB,GAAG,CAACC,CAAC,EAAEY,aAAa,CAACtB,GAAG,CAAC,EAAE6B,GAAG,CAAC;AACxC,CAAC;AACD,IAAIC,OAAO,GAAG,SAASA,OAAOA,CAACpB,CAAC,EAAEV,GAAG,EAAE+B,IAAI,EAAE;EAC3C,OAAOvB,GAAG,CAACE,CAAC,EAAEV,GAAG,CAAC,CAACQ,GAAG,CAACuB,IAAI,CAAC;AAC9B,CAAC;AAED,IAAIC,QAAQ,GAAG,SAASA,QAAQA,CAACtB,CAAC,EAAE;EAClC,OAAOA,CAAC,CAACuB,MAAM,CAAC,UAAUC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;IACjC,IAAIC,OAAO,GAAG9C,UAAU,CAACwB,GAAG,CAACuB,KAAK,CAACH,CAAC,CAAC,IAAIA,CAAC,CAACI,GAAG,CAAC,YAAY,CAAC,GAAG,CAACH,CAAC,CAAC,GAAG,EAAE;IACvE,IAAII,MAAM,GAAGjD,UAAU,CAACwB,GAAG,CAACuB,KAAK,CAACH,CAAC,CAAC,GAAGH,QAAQ,CAACG,CAAC,CAAC,CAACM,GAAG,CAAC,UAAUC,CAAC,EAAE;MAClE,OAAO,CAACN,CAAC,CAAC,CAACV,MAAM,CAACgB,CAAC,CAAC;IACtB,CAAC,CAAC,GAAG,EAAE;IACP,OAAOR,CAAC,CAACR,MAAM,CAACiB,KAAK,CAACT,CAAC,EAAE,CAACG,OAAO,CAAC,CAACX,MAAM,CAAC,CAACc,MAAM,CAAC,CAAC,CAAC;EACtD,CAAC,EAAE,EAAE,CAAC;AACR,CAAC;AAED,SAASI,UAAUA,CAAClC,CAAC,EAAEmC,IAAI,EAAE;EAC3B,OAAOA,IAAI,CAACZ,MAAM,CAAC,UAAUC,CAAC,EAAEE,CAAC,EAAE;IACjC,OAAOF,CAAC,CAACY,QAAQ,CAACxB,aAAa,CAACc,CAAC,CAAC,CAAC;EACrC,CAAC,EAAE1B,CAAC,CAAC;AACP;AAEA,IAAIqC,OAAO,GAAG,SAASA,OAAOA,CAACrC,CAAC,EAAEsC,EAAE,EAAE;EACpC,IAAIH,IAAI,GAAGb,QAAQ,CAACxB,GAAG,CAACE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAEnB,UAAU,CAACwB,GAAG,EAAE,CAAC,CAAC,CAAC;EACtD;EACA,OAAO8B,IAAI,CAACZ,MAAM,CAAC,UAAUC,CAAC,EAAEE,CAAC,EAAE;IACjC,IAAI,OAAON,OAAO,CAACI,CAAC,EAAEE,CAAC,EAAE,QAAQ,CAAC,IAAI,UAAU,EAAE,OAAOF,CAAC;IAC1D,IAAIP,SAAS,CAACO,CAAC,EAAEE,CAAC,CAAC,KAAK,SAAS,EAAE;MACjCF,CAAC,GAAGN,SAAS,CAACM,CAAC,EAAEE,CAAC,EAAE,SAAS,CAAC;MAC9B,IAAIa,MAAM,GAAG,KAAK;MAClBnB,OAAO,CAACI,CAAC,EAAEE,CAAC,EAAE,QAAQ,CAAC,CAACF,CAAC,EAAE,UAAUgB,KAAK,EAAEC,MAAM,EAAE;QAClD,IAAIF,MAAM,EAAE;QACZA,MAAM,GAAG,IAAI;QACbG,UAAU,CAAC,YAAY;UACrB,CAAC,CAAC,EAAEvD,OAAO,CAACwD,IAAI,EAAExD,OAAO,CAACyD,YAAY,EAAE,MAAM,EAAEN,EAAE,EAAE,UAAUtC,CAAC,EAAE;YAC/D,IAAIM,OAAO,GAAGc,OAAO,CAACI,CAAC,EAAEE,CAAC,EAAE,SAAS,CAAC;YAEtC,IAAIc,KAAK,IAAI,OAAOlC,OAAO,KAAK,UAAU,EAAE;cAC1CoC,UAAU,CAAC,YAAY;gBACrB,OAAOpC,OAAO,CAACN,CAAC,EAAEwC,KAAK,CAAC;cAC1B,CAAC,EAAE,CAAC,CAAC;YACP;YAEA,IAAIjC,aAAa,GAAGa,OAAO,CAACpB,CAAC,EAAE0B,CAAC,EAAE,eAAe,CAAC;YAElD,IAAIc,KAAK,IAAIjC,aAAa,KAAK9B,SAAS,EAAE;cACxC,OAAOoE,WAAW,CAAC7C,CAAC,EAAE0B,CAAC,EAAEc,KAAK,CAAC;YACjC,CAAC,MAAM;cACLxC,CAAC,GAAGkB,SAAS,CAAClB,CAAC,EAAE0B,CAAC,EAAE,IAAI,CAAC;cACzB,OAAON,OAAO,CAACpB,CAAC,EAAE0B,CAAC,EAAE,WAAW,CAAC,CAAC1B,CAAC,EAAEwC,KAAK,GAAGjC,aAAa,GAAGkC,MAAM,CAAC;YACtE;UACF,CAAC,CAAC;QACJ,CAAC,EAAE,CAAC,CAAC;MACP,CAAC,CAAC;IACJ,CAAC,MAAM,IAAIxB,SAAS,CAACO,CAAC,EAAEE,CAAC,CAAC,KAAK,SAAS,EAAE;MACxC,IAAIN,OAAO,CAACI,CAAC,EAAEE,CAAC,EAAE,QAAQ,CAAC,CAACF,CAAC,CAAC,EAAE;QAC9B,IAAIpB,WAAW,GAAGgB,OAAO,CAACI,CAAC,EAAEE,CAAC,EAAE,aAAa,CAAC;QAC9CF,CAAC,GAAGN,SAAS,CAACM,CAAC,EAAEE,CAAC,EAAE,CAACtB,WAAW,IAAIA,WAAW,CAACoB,CAAC,CAAC,GAAG,SAAS,GAAG,IAAI,CAAC;MACxE;IACF;IAEA,OAAOA,CAAC;EACV,CAAC,EAAExB,CAAC,CAAC;AACP,CAAC;AAED,IAAIxB,EAAE,GAAGF,OAAO,CAACE,EAAE,GAAG,SAASA,EAAEA,CAAC8D,EAAE,EAAE;EACpC,CAAC,CAAC,EAAEnD,OAAO,CAAC2D,OAAO,EAAE,MAAM,EAAER,EAAE,EAAE,UAAUtC,CAAC,EAAE;IAC5C0C,UAAU,CAAC,YAAY;MACrB,OAAO,CAAC,CAAC,EAAEvD,OAAO,CAACwD,IAAI,EAAExD,OAAO,CAACyD,YAAY,EAAE,MAAM,EAAEN,EAAE,EAAED,OAAO,EAAEC,EAAE,CAAC;IACzE,CAAC,EAAE,CAAC,CAAC;EACP,CAAC,CAAC;AACJ,CAAC;AAED,SAAS5D,SAASA,CAACsB,CAAC,EAAEV,GAAG,EAAE;EACzB,OAAO2B,SAAS,CAACjB,CAAC,EAAEV,GAAG,CAAC,KAAK,IAAI;AACnC;AAEA,SAASX,MAAMA,CAACqB,CAAC,EAAE;EACjB,IAAImC,IAAI,GAAGb,QAAQ,CAACxB,GAAG,CAACE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAEnB,UAAU,CAACwB,GAAG,EAAE,CAAC,CAAC,CAAC;EACtD,OAAO8B,IAAI,CAACY,MAAM,GAAG,CAAC,IAAIZ,IAAI,CAACZ,MAAM,CAAC,UAAUC,CAAC,EAAEE,CAAC,EAAE;IACpD,OAAOF,CAAC,IAAI,CAACwB,SAAS,CAAChD,CAAC,EAAE0B,CAAC,CAAC;EAC9B,CAAC,EAAE,IAAI,CAAC;AACV;AAEA,SAAS9C,QAAQA,CAACoB,CAAC,EAAE;EACnB,IAAIiD,WAAW,GAAGC,SAAS,CAACH,MAAM,GAAG,CAAC,IAAIG,SAAS,CAAC,CAAC,CAAC,KAAKzE,SAAS,GAAGyE,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE;EAExF,IAAIf,IAAI,GAAGb,QAAQ,CAACY,UAAU,CAACpC,GAAG,CAACE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAEnB,UAAU,CAACwB,GAAG,EAAE,CAAC,CAAC,EAAE4C,WAAW,CAAC,CAAC;EAC/E,OAAOd,IAAI,CAACY,MAAM,GAAG,CAAC,IAAIZ,IAAI,CAACZ,MAAM,CAAC,UAAUC,CAAC,EAAEE,CAAC,EAAE;IACpD,OAAOF,CAAC,IAAIP,SAAS,CAACjB,CAAC,EAAE0B,CAAC,CAAC,KAAK,OAAO;EACzC,CAAC,EAAE,KAAK,CAAC;AACX;AAEA,SAASsB,SAASA,CAAChD,CAAC,EAAEV,GAAG,EAAE;EACzB,OAAO,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC6D,OAAO,CAAClC,SAAS,CAACjB,CAAC,EAAEV,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;AAC1E;AAEA,SAASuD,WAAWA,CAAC7C,CAAC,EAAEV,GAAG,EAAEkD,KAAK,EAAE;EAClC,IAAIC,MAAM,GAAGvB,SAAS,CAAClB,CAAC,EAAEV,GAAG,EAAE,OAAO,CAAC;;EAEvC;EACA,IAAIA,GAAG,KAAK,KAAK,EAAE;IACjB,IAAI8D,SAAS,GAAG,IAAIC,KAAK,CAAC,kCAAkC,GAAG/D,GAAG,GAAG,kBAAkB,GAAGkD,KAAK,CAACc,OAAO,CAAC;IACxGF,SAAS,CAACG,IAAI,GAAG,MAAM;IACvBH,SAAS,CAACI,MAAM,GAAGhB,KAAK;IACxBC,MAAM,GAAGxD,CAAC,CAACwE,IAAI,CAAChB,MAAM,EAAEW,SAAS,CAAC;EACpC;EAEA,OAAOX,MAAM;AACf"},"metadata":{},"sourceType":"script"}