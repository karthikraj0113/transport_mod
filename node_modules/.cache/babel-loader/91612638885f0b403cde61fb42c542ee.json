{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = dataReducer;\nvar _setWith2 = _interopRequireDefault(require(\"lodash/fp/setWith\"));\nvar _get2 = _interopRequireDefault(require(\"lodash/get\"));\nvar _constants = require(\"../constants\");\nvar _reducers = require(\"../utils/reducers\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar CLEAR_DATA = _constants.actionTypes.CLEAR_DATA,\n  GET_SUCCESS = _constants.actionTypes.GET_SUCCESS,\n  LISTENER_RESPONSE = _constants.actionTypes.LISTENER_RESPONSE,\n  LISTENER_ERROR = _constants.actionTypes.LISTENER_ERROR,\n  DELETE_SUCCESS = _constants.actionTypes.DELETE_SUCCESS,\n  DOCUMENT_ADDED = _constants.actionTypes.DOCUMENT_ADDED,\n  DOCUMENT_MODIFIED = _constants.actionTypes.DOCUMENT_MODIFIED,\n  DOCUMENT_REMOVED = _constants.actionTypes.DOCUMENT_REMOVED;\nfunction dataReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case GET_SUCCESS:\n    case LISTENER_RESPONSE:\n      var meta = action.meta,\n        payload = action.payload;\n      if (!payload || payload.data === undefined) {\n        return state;\n      }\n      var getDocName = function getDocName(data) {\n        return data.subcollections ? getDocName(data.subcollections.slice(-1)[0]) : data.doc;\n      };\n      var docName = getDocName(meta);\n      var data = docName ? (0, _get2.default)(payload.data, docName) : payload.data;\n      var previousData = (0, _get2.default)(state, meta.storeAs ? [meta.storeAs] : (0, _reducers.pathFromMeta)(meta));\n      if (!previousData || meta.subcollections) {\n        return (0, _setWith2.default)(Object, meta.storeAs ? [meta.storeAs] : (0, _reducers.pathFromMeta)(meta), data, state);\n      }\n      return (0, _setWith2.default)(Object, meta.storeAs ? [meta.storeAs] : (0, _reducers.pathFromMeta)(meta), data, state);\n    case DOCUMENT_MODIFIED:\n    case DOCUMENT_ADDED:\n      return (0, _setWith2.default)(Object, (0, _reducers.pathFromMeta)(action.meta), action.payload.data, state);\n    case DOCUMENT_REMOVED:\n    case DELETE_SUCCESS:\n      var removePath = (0, _reducers.pathFromMeta)(action.meta);\n      var cleanedState = (0, _setWith2.default)(Object, removePath, null, state);\n      if (action.preserve && action.preserve.data) {\n        return (0, _reducers.preserveValuesFromState)(state, action.preserve.data, cleanedState);\n      }\n      return cleanedState;\n    case CLEAR_DATA:\n      if (action.preserve && action.preserve.data) {\n        return (0, _reducers.preserveValuesFromState)(state, action.preserve.data, {});\n      }\n      return {};\n    case LISTENER_ERROR:\n      var nextState = (0, _setWith2.default)(Object, (0, _reducers.pathFromMeta)(action.meta), null, state);\n      if (action.preserve && action.preserve.data) {\n        return (0, _reducers.preserveValuesFromState)(state, action.preserve.data, nextState);\n      }\n      var existingState = (0, _get2.default)(state, (0, _reducers.pathFromMeta)(action.meta));\n      if (existingState) {\n        return state;\n      }\n      return nextState;\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","default","dataReducer","_setWith2","_interopRequireDefault","require","_get2","_constants","_reducers","obj","__esModule","CLEAR_DATA","actionTypes","GET_SUCCESS","LISTENER_RESPONSE","LISTENER_ERROR","DELETE_SUCCESS","DOCUMENT_ADDED","DOCUMENT_MODIFIED","DOCUMENT_REMOVED","state","arguments","length","undefined","action","type","meta","payload","data","getDocName","subcollections","slice","doc","docName","previousData","storeAs","pathFromMeta","removePath","cleanedState","preserve","preserveValuesFromState","nextState","existingState"],"sources":["C:/Users/diskk/OneDrive/Desktop/New folder/Transport_modal/node_modules/redux-firestore/es/reducers/dataReducer.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = dataReducer;\n\nvar _setWith2 = _interopRequireDefault(require(\"lodash/fp/setWith\"));\n\nvar _get2 = _interopRequireDefault(require(\"lodash/get\"));\n\nvar _constants = require(\"../constants\");\n\nvar _reducers = require(\"../utils/reducers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CLEAR_DATA = _constants.actionTypes.CLEAR_DATA,\n    GET_SUCCESS = _constants.actionTypes.GET_SUCCESS,\n    LISTENER_RESPONSE = _constants.actionTypes.LISTENER_RESPONSE,\n    LISTENER_ERROR = _constants.actionTypes.LISTENER_ERROR,\n    DELETE_SUCCESS = _constants.actionTypes.DELETE_SUCCESS,\n    DOCUMENT_ADDED = _constants.actionTypes.DOCUMENT_ADDED,\n    DOCUMENT_MODIFIED = _constants.actionTypes.DOCUMENT_MODIFIED,\n    DOCUMENT_REMOVED = _constants.actionTypes.DOCUMENT_REMOVED;\n\nfunction dataReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_SUCCESS:\n    case LISTENER_RESPONSE:\n      var meta = action.meta,\n          payload = action.payload;\n\n      if (!payload || payload.data === undefined) {\n        return state;\n      }\n\n      var getDocName = function getDocName(data) {\n        return data.subcollections ? getDocName(data.subcollections.slice(-1)[0]) : data.doc;\n      };\n\n      var docName = getDocName(meta);\n      var data = docName ? (0, _get2.default)(payload.data, docName) : payload.data;\n      var previousData = (0, _get2.default)(state, meta.storeAs ? [meta.storeAs] : (0, _reducers.pathFromMeta)(meta));\n\n      if (!previousData || meta.subcollections) {\n        return (0, _setWith2.default)(Object, meta.storeAs ? [meta.storeAs] : (0, _reducers.pathFromMeta)(meta), data, state);\n      }\n\n      return (0, _setWith2.default)(Object, meta.storeAs ? [meta.storeAs] : (0, _reducers.pathFromMeta)(meta), data, state);\n\n    case DOCUMENT_MODIFIED:\n    case DOCUMENT_ADDED:\n      return (0, _setWith2.default)(Object, (0, _reducers.pathFromMeta)(action.meta), action.payload.data, state);\n\n    case DOCUMENT_REMOVED:\n    case DELETE_SUCCESS:\n      var removePath = (0, _reducers.pathFromMeta)(action.meta);\n      var cleanedState = (0, _setWith2.default)(Object, removePath, null, state);\n\n      if (action.preserve && action.preserve.data) {\n        return (0, _reducers.preserveValuesFromState)(state, action.preserve.data, cleanedState);\n      }\n\n      return cleanedState;\n\n    case CLEAR_DATA:\n      if (action.preserve && action.preserve.data) {\n        return (0, _reducers.preserveValuesFromState)(state, action.preserve.data, {});\n      }\n\n      return {};\n\n    case LISTENER_ERROR:\n      var nextState = (0, _setWith2.default)(Object, (0, _reducers.pathFromMeta)(action.meta), null, state);\n\n      if (action.preserve && action.preserve.data) {\n        return (0, _reducers.preserveValuesFromState)(state, action.preserve.data, nextState);\n      }\n\n      var existingState = (0, _get2.default)(state, (0, _reducers.pathFromMeta)(action.meta));\n\n      if (existingState) {\n        return state;\n      }\n\n      return nextState;\n\n    default:\n      return state;\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}