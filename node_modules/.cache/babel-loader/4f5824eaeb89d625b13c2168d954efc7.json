{"ast":null,"code":"import _extends from '@babel/runtime/helpers/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/objectWithoutPropertiesLoose';\nimport _inheritsLoose from '@babel/runtime/helpers/inheritsLoose';\nimport { SVGInjector } from '@tanem/svg-injector';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\n// Hat-tip: https://github.com/developit/preact-compat/blob/master/src/index.js#L402.\nvar shallowDiffers = function shallowDiffers(a, b) {\n  for (var i in a) {\n    if (!(i in b)) {\n      return true;\n    }\n  }\n  for (var _i in b) {\n    if (a[_i] !== b[_i]) {\n      return true;\n    }\n  }\n  return false;\n};\nvar _excluded = [\"afterInjection\", \"beforeInjection\", \"evalScripts\", \"fallback\", \"httpRequestWithCredentials\", \"loading\", \"renumerateIRIElements\", \"src\", \"useRequestCache\", \"wrapper\"];\nvar svgNamespace = 'http://www.w3.org/2000/svg';\nvar xlinkNamespace = 'http://www.w3.org/1999/xlink';\nvar ReactSVG = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ReactSVG, _React$Component);\n  function ReactSVG() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.initialState = {\n      hasError: false,\n      isLoading: true\n    };\n    _this.state = _this.initialState;\n    _this._isMounted = false;\n    _this.reactWrapper = void 0;\n    _this.nonReactWrapper = void 0;\n    _this.refCallback = function (reactWrapper) {\n      _this.reactWrapper = reactWrapper;\n    };\n    return _this;\n  }\n  var _proto = ReactSVG.prototype;\n  _proto.renderSVG = function renderSVG() {\n    var _this2 = this;\n\n    /* istanbul ignore else */\n    if (this.reactWrapper instanceof Node) {\n      var _this$props = this.props,\n        beforeInjection = _this$props.beforeInjection,\n        evalScripts = _this$props.evalScripts,\n        httpRequestWithCredentials = _this$props.httpRequestWithCredentials,\n        renumerateIRIElements = _this$props.renumerateIRIElements,\n        src = _this$props.src,\n        useRequestCache = _this$props.useRequestCache;\n      /* eslint-disable @typescript-eslint/no-non-null-assertion */\n\n      var afterInjection = this.props.afterInjection;\n      var wrapper = this.props.wrapper;\n      /* eslint-enable @typescript-eslint/no-non-null-assertion */\n\n      var nonReactWrapper;\n      var nonReactTarget;\n      if (wrapper === 'svg') {\n        nonReactWrapper = document.createElementNS(svgNamespace, wrapper);\n        nonReactWrapper.setAttribute('xmlns', svgNamespace);\n        nonReactWrapper.setAttribute('xmlns:xlink', xlinkNamespace);\n        nonReactTarget = document.createElementNS(svgNamespace, wrapper);\n      } else {\n        nonReactWrapper = document.createElement(wrapper);\n        nonReactTarget = document.createElement(wrapper);\n      }\n      nonReactWrapper.appendChild(nonReactTarget);\n      nonReactTarget.dataset.src = src;\n      this.nonReactWrapper = this.reactWrapper.appendChild(nonReactWrapper);\n      var afterEach = function afterEach(error, svg) {\n        if (error) {\n          _this2.removeSVG();\n          if (!_this2._isMounted) {\n            afterInjection(error);\n            return;\n          }\n        } // TODO (Tane): It'd be better to cleanly unsubscribe from SVGInjector\n        // callbacks instead of tracking a property like this.\n\n        if (_this2._isMounted) {\n          _this2.setState(function () {\n            return {\n              hasError: !!error,\n              isLoading: false\n            };\n          }, function () {\n            afterInjection(error, svg);\n          });\n        }\n      };\n      SVGInjector(nonReactTarget, {\n        afterEach: afterEach,\n        beforeEach: beforeInjection,\n        cacheRequests: useRequestCache,\n        evalScripts: evalScripts,\n        httpRequestWithCredentials: httpRequestWithCredentials,\n        renumerateIRIElements: renumerateIRIElements\n      });\n    }\n  };\n  _proto.removeSVG = function removeSVG() {\n    var _this$nonReactWrapper;\n    if ((_this$nonReactWrapper = this.nonReactWrapper) != null && _this$nonReactWrapper.parentNode) {\n      this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper);\n      this.nonReactWrapper = null;\n    }\n  };\n  _proto.componentDidMount = function componentDidMount() {\n    this._isMounted = true;\n    this.renderSVG();\n  };\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this3 = this;\n    if (shallowDiffers(prevProps, this.props)) {\n      this.setState(function () {\n        return _this3.initialState;\n      }, function () {\n        _this3.removeSVG();\n        _this3.renderSVG();\n      });\n    }\n  };\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this._isMounted = false;\n    this.removeSVG();\n  };\n  _proto.render = function render() {\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    var _this$props2 = this.props;\n    _this$props2.afterInjection;\n    _this$props2.beforeInjection;\n    _this$props2.evalScripts;\n    var Fallback = _this$props2.fallback;\n    _this$props2.httpRequestWithCredentials;\n    var Loading = _this$props2.loading;\n    _this$props2.renumerateIRIElements;\n    _this$props2.src;\n    _this$props2.useRequestCache;\n    var wrapper = _this$props2.wrapper,\n      rest = _objectWithoutPropertiesLoose(_this$props2, _excluded);\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    var Wrapper = wrapper;\n    return /*#__PURE__*/React.createElement(Wrapper, _extends({}, rest, {\n      ref: this.refCallback\n    }, wrapper === 'svg' ? {\n      xmlns: svgNamespace,\n      xmlnsXlink: xlinkNamespace\n    } : {}), this.state.isLoading && Loading && /*#__PURE__*/React.createElement(Loading, null), this.state.hasError && Fallback && /*#__PURE__*/React.createElement(Fallback, null));\n  };\n  return ReactSVG;\n}(React.Component);\nReactSVG.defaultProps = {\n  afterInjection: function afterInjection() {\n    return undefined;\n  },\n  beforeInjection: function beforeInjection() {\n    return undefined;\n  },\n  evalScripts: 'never',\n  fallback: null,\n  httpRequestWithCredentials: false,\n  loading: null,\n  renumerateIRIElements: true,\n  useRequestCache: true,\n  wrapper: 'div'\n};\nReactSVG.propTypes = {\n  afterInjection: PropTypes.func,\n  beforeInjection: PropTypes.func,\n  evalScripts: PropTypes.oneOf(['always', 'once', 'never']),\n  fallback: PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.string]),\n  httpRequestWithCredentials: PropTypes.bool,\n  loading: PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.string]),\n  renumerateIRIElements: PropTypes.bool,\n  src: PropTypes.string.isRequired,\n  useRequestCache: PropTypes.bool,\n  wrapper: PropTypes.oneOf(['div', 'span', 'svg'])\n};\nexport { ReactSVG };","map":{"version":3,"sources":["../compiled/shallow-differs.js","../compiled/ReactSVG.js"],"names":["shallowDiffers","a","b","i","svgNamespace","xlinkNamespace","ReactSVG","React","Component","defaultProps","afterInjection","undefined","beforeInjection","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","useRequestCache","wrapper","propTypes","PropTypes","func","oneOf","oneOfType","object","string","bool","src","isRequired","initialState","hasError","isLoading","state","_isMounted","reactWrapper","nonReactWrapper","refCallback","renderSVG","Node","props","nonReactTarget","document","createElementNS","setAttribute","createElement","appendChild","dataset","afterEach","error","svg","removeSVG","setState","SVGInjector","beforeEach","cacheRequests","parentNode","removeChild","componentDidMount","componentDidUpdate","prevProps","componentWillUnmount","render","Fallback","Loading","rest","Wrapper","ref","xmlns","xmlnsXlink"],"mappings":"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","sourcesContent":["// Hat-tip: https://github.com/developit/preact-compat/blob/master/src/index.js#L402.\nconst shallowDiffers = (a, b) => {\n    for (const i in a) {\n        if (!(i in b)) {\n            return true;\n        }\n    }\n    for (const i in b) {\n        if (a[i] !== b[i]) {\n            return true;\n        }\n    }\n    return false;\n};\nexport default shallowDiffers;\n","import { SVGInjector } from '@tanem/svg-injector';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport shallowDiffers from './shallow-differs';\nconst svgNamespace = 'http://www.w3.org/2000/svg';\nconst xlinkNamespace = 'http://www.w3.org/1999/xlink';\nexport class ReactSVG extends React.Component {\n    static defaultProps = {\n        afterInjection: () => undefined,\n        beforeInjection: () => undefined,\n        evalScripts: 'never',\n        fallback: null,\n        httpRequestWithCredentials: false,\n        loading: null,\n        renumerateIRIElements: true,\n        useRequestCache: true,\n        wrapper: 'div',\n    };\n    static propTypes = {\n        afterInjection: PropTypes.func,\n        beforeInjection: PropTypes.func,\n        evalScripts: PropTypes.oneOf(['always', 'once', 'never']),\n        fallback: PropTypes.oneOfType([\n            PropTypes.func,\n            PropTypes.object,\n            PropTypes.string,\n        ]),\n        httpRequestWithCredentials: PropTypes.bool,\n        loading: PropTypes.oneOfType([\n            PropTypes.func,\n            PropTypes.object,\n            PropTypes.string,\n        ]),\n        renumerateIRIElements: PropTypes.bool,\n        src: PropTypes.string.isRequired,\n        useRequestCache: PropTypes.bool,\n        wrapper: PropTypes.oneOf(['div', 'span', 'svg']),\n    };\n    initialState = {\n        hasError: false,\n        isLoading: true,\n    };\n    state = this.initialState;\n    _isMounted = false;\n    reactWrapper;\n    nonReactWrapper;\n    refCallback = (reactWrapper) => {\n        this.reactWrapper = reactWrapper;\n    };\n    renderSVG() {\n        /* istanbul ignore else */\n        if (this.reactWrapper instanceof Node) {\n            const { beforeInjection, evalScripts, httpRequestWithCredentials, renumerateIRIElements, src, useRequestCache, } = this.props;\n            /* eslint-disable @typescript-eslint/no-non-null-assertion */\n            const afterInjection = this.props.afterInjection;\n            const wrapper = this.props.wrapper;\n            /* eslint-enable @typescript-eslint/no-non-null-assertion */\n            let nonReactWrapper;\n            let nonReactTarget;\n            if (wrapper === 'svg') {\n                nonReactWrapper = document.createElementNS(svgNamespace, wrapper);\n                nonReactWrapper.setAttribute('xmlns', svgNamespace);\n                nonReactWrapper.setAttribute('xmlns:xlink', xlinkNamespace);\n                nonReactTarget = document.createElementNS(svgNamespace, wrapper);\n            }\n            else {\n                nonReactWrapper = document.createElement(wrapper);\n                nonReactTarget = document.createElement(wrapper);\n            }\n            nonReactWrapper.appendChild(nonReactTarget);\n            nonReactTarget.dataset.src = src;\n            this.nonReactWrapper = this.reactWrapper.appendChild(nonReactWrapper);\n            const afterEach = (error, svg) => {\n                if (error) {\n                    this.removeSVG();\n                    if (!this._isMounted) {\n                        afterInjection(error);\n                        return;\n                    }\n                }\n                // TODO (Tane): It'd be better to cleanly unsubscribe from SVGInjector\n                // callbacks instead of tracking a property like this.\n                if (this._isMounted) {\n                    this.setState(() => ({\n                        hasError: !!error,\n                        isLoading: false,\n                    }), () => {\n                        afterInjection(error, svg);\n                    });\n                }\n            };\n            SVGInjector(nonReactTarget, {\n                afterEach,\n                beforeEach: beforeInjection,\n                cacheRequests: useRequestCache,\n                evalScripts,\n                httpRequestWithCredentials,\n                renumerateIRIElements,\n            });\n        }\n    }\n    removeSVG() {\n        if (this.nonReactWrapper?.parentNode) {\n            this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper);\n            this.nonReactWrapper = null;\n        }\n    }\n    componentDidMount() {\n        this._isMounted = true;\n        this.renderSVG();\n    }\n    componentDidUpdate(prevProps) {\n        if (shallowDiffers(prevProps, this.props)) {\n            this.setState(() => this.initialState, () => {\n                this.removeSVG();\n                this.renderSVG();\n            });\n        }\n    }\n    componentWillUnmount() {\n        this._isMounted = false;\n        this.removeSVG();\n    }\n    render() {\n        /* eslint-disable @typescript-eslint/no-unused-vars */\n        const { afterInjection, beforeInjection, evalScripts, fallback: Fallback, httpRequestWithCredentials, loading: Loading, renumerateIRIElements, src, useRequestCache, wrapper, ...rest } = this.props;\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const Wrapper = wrapper;\n        return (React.createElement(Wrapper, { ...rest, ref: this.refCallback, ...(wrapper === 'svg'\n                ? {\n                    xmlns: svgNamespace,\n                    xmlnsXlink: xlinkNamespace,\n                }\n                : {}) },\n            this.state.isLoading && Loading && React.createElement(Loading, null),\n            this.state.hasError && Fallback && React.createElement(Fallback, null)));\n    }\n}\n"]},"metadata":{},"sourceType":"module"}