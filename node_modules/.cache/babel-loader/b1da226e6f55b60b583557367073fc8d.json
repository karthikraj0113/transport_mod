{"ast":null,"code":"import\"antd/es/upload/style\";import _Upload from\"antd/es/upload\";import _defineProperty from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectWithoutProperties from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import\"antd/es/message/style\";import _message from\"antd/es/message\";import _toConsumableArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";var _excluded=[\"style\"],_excluded2=[\"style\"],_excluded3=[\"style\"];/* eslint-disable jsx-a11y/accessible-emoji */import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{NavLink,Link}from'react-router-dom';import FeatherIcon from'feather-icons-react';import moment from'moment';import Picker from'emoji-picker-react';// eslint-disable-next-line import/no-extraneous-dependencies\nimport{Scrollbars}from'react-custom-scrollbars';import{SmileOutlined,MoreOutlined}from'@ant-design/icons';import{SingleChatWrapper,MessageList,Footer,BackShadowEmoji}from'../style';import Heading from'../../../components/heading/heading';import{Button}from'../../../components/buttons/buttons';import{updateGroupChat}from'../../../redux/chat/actionCreator';import{Cards}from'../../../components/cards/frame/cards-frame';import{Dropdown}from'../../../components/dropdown/dropdown';var SingleGroupChat=function SingleGroupChat(_ref){var match=_ref.match;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{rtl:state.ChangeLayoutMode.rtlData,chat:state.chatSingle.data};}),rtl=_useSelector.rtl,chat=_useSelector.chat;var left=!rtl?'left':'right';var _useState=useState({chatData:chat,me:'woadud@gmail.com',singleContent:chat[0].content,name:chat[0].groupName,inputValue:'',fileList:[],fileList2:[]}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),pickerShow=_useState4[0],setPickerShow=_useState4[1];var singleContent=state.singleContent,name=state.name,me=state.me,inputValue=state.inputValue;useEffect(function(){var unmounted=false;if(!unmounted){setState({chatData:chat,singleContent:chat[0].content,name:chat[0].groupName,inputValue:inputValue,me:'woadud@gmail.com',fileList:[],fileList2:[]});}return function(){unmounted=true;};},[match,chat,inputValue]);var handleChange=function handleChange(e){setState(_objectSpread(_objectSpread({},state),{},{inputValue:e.target.value}));};var handleSubmit=function handleSubmit(e){e.preventDefault();var pushcontent={content:inputValue,time:new Date().getTime(),seen:false,reaction:false,email:me,userName:'Woadud Akand'};dispatch(updateGroupChat(parseInt(match.params.id,10),pushcontent));setState(_objectSpread(_objectSpread({},state),{},{singleContent:[].concat(_toConsumableArray(singleContent),[pushcontent]),inputValue:''}));};var onEmojiClick=function onEmojiClick(event,emojiObject){setState(_objectSpread(_objectSpread({},state),{},{inputValue:inputValue+emojiObject.emoji}));};var onPickerShow=function onPickerShow(){setPickerShow(!pickerShow);};var props={name:'file',action:'https://www.mocky.io/v2/5cc8019d300000980a055e76',headers:{authorization:'authorization-text'},listType:'picture-card',onChange:function onChange(info){if(info.file.status!=='uploading'){console.log(info.file,info.fileList);setState(_objectSpread(_objectSpread({},state),{},{fileList:info.fileList}));}if(info.file.status==='done'){_message.success(\"\".concat(info.file.name,\" file uploaded successfully\"));}else if(info.file.status==='error'){_message.error(\"\".concat(info.file.name,\" file upload failed.\"));}}};var attachment={name:'file',action:'https://www.mocky.io/v2/5cc8019d300000980a055e76',headers:{authorization:'authorization-text'},onChange:function onChange(info){if(info.file.status!=='uploading'){// console.log(info.file, info.fileList);\nsetState(_objectSpread(_objectSpread({},state),{},{fileList2:info.fileList}));}if(info.file.status==='done'){_message.success(\"\".concat(info.file.name,\" file uploaded successfully\"));}else if(info.file.status==='error'){_message.error(\"\".concat(info.file.name,\" file upload failed.\"));}}};var renderView=function renderView(_ref2){var _customStyle;var style=_ref2.style,props=_objectWithoutProperties(_ref2,_excluded);var customStyle=(_customStyle={marginRight:'auto'},_defineProperty(_customStyle,rtl?'left':'right','2px'),_defineProperty(_customStyle,rtl?'marginLeft':'marginRight','-19px'),_customStyle);return/*#__PURE__*/React.createElement(\"div\",Object.assign({},props,{style:_objectSpread(_objectSpread({},style),customStyle)}));};var renderThumbVertical=function renderThumbVertical(_ref3){var style=_ref3.style,props=_objectWithoutProperties(_ref3,_excluded2);var thumbStyle=_defineProperty({borderRadius:6,backgroundColor:'#F1F2F6'},left,'2px');return/*#__PURE__*/React.createElement(\"div\",{style:_objectSpread(_objectSpread({},style),thumbStyle),props:props});};var renderTrackVertical=function renderTrackVertical(){var _thumbStyle2;var thumbStyle=(_thumbStyle2={position:'absolute',width:'6px',transition:'opacity 200ms ease 0s',opacity:0},_defineProperty(_thumbStyle2,rtl?'left':'right','6px'),_defineProperty(_thumbStyle2,\"bottom\",'2px'),_defineProperty(_thumbStyle2,\"top\",'2px'),_defineProperty(_thumbStyle2,\"borderRadius\",'3px'),_thumbStyle2);return/*#__PURE__*/React.createElement(\"div\",{style:thumbStyle});};var renderThumbHorizontal=function renderThumbHorizontal(_ref4){var style=_ref4.style,props=_objectWithoutProperties(_ref4,_excluded3);var thumbStyle={borderRadius:6,backgroundColor:'#F1F2F6'};return/*#__PURE__*/React.createElement(\"div\",{style:_objectSpread(_objectSpread({},style),thumbStyle),props:props});};var content=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavLink,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"users\",size:14}),/*#__PURE__*/React.createElement(\"span\",null,\"Create new group\")),/*#__PURE__*/React.createElement(NavLink,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"trash-2\",size:14}),/*#__PURE__*/React.createElement(\"span\",null,\"Delete conversation\")),/*#__PURE__*/React.createElement(NavLink,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"slash\",size:14}),/*#__PURE__*/React.createElement(\"span\",null,\"Block & Report\")));return/*#__PURE__*/React.createElement(SingleChatWrapper,{className:\"group-chat\"},pickerShow&&/*#__PURE__*/React.createElement(BackShadowEmoji,{onClick:function onClick(){return setPickerShow(false);}}),/*#__PURE__*/React.createElement(Cards,{title:/*#__PURE__*/React.createElement(\"div\",{className:\"group-chat-header d-flex\"},/*#__PURE__*/React.createElement(Heading,{as:\"h5\"},name),/*#__PURE__*/React.createElement(\"div\",{className:\"members\"},/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"img\",{src:require('../../../static/img/avatar/chat-auth.png'),alt:\"\"})),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"img\",{src:require('../../../static/img/avatar/chat-auth.png'),alt:\"\"})),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"img\",{src:require('../../../static/img/avatar/chat-auth.png'),alt:\"\"})),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"img\",{src:require('../../../static/img/avatar/chat-auth.png'),alt:\"\"})),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"img\",{src:require('../../../static/img/avatar/chat-auth.png'),alt:\"\"})),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"img\",{src:require('../../../static/img/avatar/chat-auth.png'),alt:\"\"})),/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"show-more\"},/*#__PURE__*/React.createElement(\"span\",null,\"20+\")),/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"add-more\"},/*#__PURE__*/React.createElement(\"span\",{className:\"add-icon\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"plus\",size:14}))))),more:content},/*#__PURE__*/React.createElement(\"ul\",{className:\"atbd-chatbox\"},/*#__PURE__*/React.createElement(Scrollbars,{className:\"custom-scrollbar\",autoHide:true,autoHideTimeout:500,autoHideDuration:200,renderThumbHorizontal:renderThumbHorizontal,renderThumbVertical:renderThumbVertical,renderView:renderView,renderTrackVertical:renderTrackVertical},singleContent.length?singleContent.map(function(mes,index){var id=mes.time;var same=moment(id).format('MM-DD-YYYY')===moment().format('MM-DD-YYYY');return/*#__PURE__*/React.createElement(\"li\",{className:\"atbd-chatbox__single\",key:id,style:{overflow:'hidden'}},/*#__PURE__*/React.createElement(\"div\",{className:mes.email!==me?'left':'right'},mes.email!==me?/*#__PURE__*/React.createElement(\"img\",{src:require('../../../static/img/avatar/chat-auth.png'),alt:\"\"}):null,/*#__PURE__*/React.createElement(\"div\",{className:\"atbd-chatbox__content\"},/*#__PURE__*/React.createElement(Heading,{as:\"h5\",className:\"atbd-chatbox__name\"},mes.email!==me&&name,/*#__PURE__*/React.createElement(\"span\",null,same?moment(id).format('hh:mm A'):moment(id).format('LL'))),mes.email!==me?/*#__PURE__*/React.createElement(\"div\",{className:\"atbd-chatbox__contentInner d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"atbd-chatbox__message\"},/*#__PURE__*/React.createElement(MessageList,{className:\"message-box\"},mes.content)),/*#__PURE__*/React.createElement(\"div\",{className:\"atbd-chatbox__actions\"},/*#__PURE__*/React.createElement(Dropdown,{action:['hover'],content:/*#__PURE__*/React.createElement(\"div\",{className:\"atbd-chatbox__emoji\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"span\",{role:\"img\"},\"\\uD83C\\uDF1D\"))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"span\",{role:\"img\"},\"\\uD83D\\uDC74\"))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"span\",{role:\"img\"},\"\\uD83D\\uDC7F\"))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"span\",{role:\"img\"},\"\\uD83D\\uDC97\"))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"span\",{role:\"img\"},\"\\uD83D\\uDD90\"))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"more-horizontal\",size:16}))))),placement:\"bottomCenter\"},/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(SmileOutlined,null))),/*#__PURE__*/React.createElement(Dropdown,{action:['hover'],content:/*#__PURE__*/React.createElement(\"div\",{className:\"atbd-chatbox__messageControl\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"Edit\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"Copy\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"Quote\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"Forward\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"Remove\")))),placement:\"bottomCenter\"},/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"more-horizontal\",size:16}))))):/*#__PURE__*/React.createElement(\"div\",{className:\"atbd-chatbox__contentInner d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"atbd-chatbox__actions\"},/*#__PURE__*/React.createElement(Dropdown,{action:['hover'],content:/*#__PURE__*/React.createElement(\"div\",{className:\"atbd-chatbox__messageControl\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"Edit\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"Copy\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"Quote\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"Forward\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"Remove\")))),placement:\"bottomCenter\"},/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"more-horizontal\",size:16}))),/*#__PURE__*/React.createElement(Dropdown,{action:['hover'],content:/*#__PURE__*/React.createElement(\"div\",{className:\"atbd-chatbox__emoji\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"\\uD83C\\uDF1D\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"\\uD83D\\uDC74\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"\\uD83D\\uDC7F\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"\\uD83D\\uDC97\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"\\uD83D\\uDD90\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(MoreOutlined,null))))),placement:\"bottomCenter\"},/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(SmileOutlined,null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"atbd-chatbox__message\"},/*#__PURE__*/React.createElement(MessageList,{className:\"message-box\"},mes.content))),singleContent.length===index+1?/*#__PURE__*/React.createElement(\"div\",{className:\"group-seen\"},/*#__PURE__*/React.createElement(\"img\",{src:require('../../../static/img/avatar/chat-auth.png'),alt:\"\"}),/*#__PURE__*/React.createElement(\"img\",{src:require('../../../static/img/avatar/chat-auth.png'),alt:\"\"}),/*#__PURE__*/React.createElement(\"img\",{src:require('../../../static/img/avatar/chat-auth.png'),alt:\"\"}),/*#__PURE__*/React.createElement(\"img\",{src:require('../../../static/img/avatar/chat-auth.png'),alt:\"\"}),/*#__PURE__*/React.createElement(\"img\",{src:require('../../../static/img/avatar/chat-auth.png'),alt:\"\"}),/*#__PURE__*/React.createElement(\"img\",{src:require('../../../static/img/avatar/chat-auth.png'),alt:\"\"})):null)));}):/*#__PURE__*/React.createElement(\"p\",null,\"No data found\"))),/*#__PURE__*/React.createElement(Footer,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"chatbox-reply-form d-flex \".concat(state.fileList.length&&'hasImage',\" \").concat(state.fileList2.length&&'hasFile')},/*#__PURE__*/React.createElement(\"span\",{className:\"smile-icon\"},pickerShow&&/*#__PURE__*/React.createElement(Picker,{onEmojiClick:onEmojiClick}),/*#__PURE__*/React.createElement(Link,{onClick:onPickerShow,to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"smile\",size:24}))),/*#__PURE__*/React.createElement(\"div\",{className:\"chatbox-reply-input\"},/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange,placeholder:\"Type your message...\",name:\"chat\",id:\"chat\",style:{width:'100%'},value:inputValue})),/*#__PURE__*/React.createElement(\"div\",{className:\"chatbox-reply-action d-flex\"},/*#__PURE__*/React.createElement(_Upload,props,/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"camera\",size:18}))),/*#__PURE__*/React.createElement(_Upload,attachment,/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"paperclip\",size:18}))),/*#__PURE__*/React.createElement(Button,{onClick:handleSubmit,type:\"primary\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"send\",size:18}))))))));};export default SingleGroupChat;","map":null,"metadata":{},"sourceType":"module"}