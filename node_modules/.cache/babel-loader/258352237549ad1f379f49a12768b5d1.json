{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nexports.skipQuickAuth = skipQuickAuth;\nexports.logIn = logIn;\nexports.checkSession = checkSession;\nvar _quick_auth = require('../quick_auth');\nvar _index = require('../store/index');\nvar _actions = require('../core/actions');\nvar _index2 = require('../core/index');\nvar l = _interopRequireWildcard(_index2);\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nfunction skipQuickAuth(id) {\n  (0, _index.swap)(_index.updateEntity, 'lock', id, _quick_auth.skipQuickAuth, true);\n}\nfunction logIn(id, connection, loginHint, prompt) {\n  var m = (0, _index.read)(_index.getEntity, 'lock', id);\n  var connectionScopes = l.auth.connectionScopes(m);\n  var scopes = connectionScopes.get(connection.get('name'));\n  var params = {\n    connection: connection.get('name'),\n    connection_scope: scopes ? scopes.toJS() : undefined\n  };\n  if (!l.auth.redirect(m) && connection.get('strategy') === 'facebook') {\n    params.display = 'popup';\n  }\n  if (loginHint) {\n    params.login_hint = loginHint;\n  }\n  if (prompt) {\n    params.prompt = prompt;\n  }\n  if (connection.get('strategy') === 'apple') {\n    (0, _index.swap)(_index.updateEntity, 'lock', l.id(m), l.setSupressSubmitOverlay, true);\n  } else {\n    (0, _index.swap)(_index.updateEntity, 'lock', l.id(m), l.setSupressSubmitOverlay, false);\n  }\n  params.isSubmitting = false;\n  (0, _actions.logIn)(id, [], params);\n}\nfunction checkSession(id, connection, loginHint) {\n  var m = (0, _index.read)(_index.getEntity, 'lock', id);\n  if (l.auth.responseType(m).indexOf('code') >= 0) {\n    // we need to force a redirect in this case\n    // so we use login with prompt=none\n    return logIn(id, connection, loginHint, 'none');\n  } else {\n    var connectionScopes = l.auth.connectionScopes(m);\n    var scopes = connectionScopes.get(connection.get('name'));\n    var params = _extends({}, l.auth.params(m).toJS(), {\n      connection: connection.get('name')\n    });\n    (0, _actions.checkSession)(id, params);\n  }\n}","map":{"version":3,"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","skipQuickAuth","logIn","checkSession","_quick_auth","require","_index","_actions","_index2","l","_interopRequireWildcard","obj","newObj","default","id","swap","updateEntity","connection","loginHint","prompt","m","read","getEntity","connectionScopes","auth","scopes","get","params","connection_scope","toJS","undefined","redirect","display","login_hint","setSupressSubmitOverlay","isSubmitting","responseType","indexOf"],"sources":["C:/Users/diskk/OneDrive/Desktop/New folder/Transport_modal/node_modules/auth0-lock/lib/quick-auth/actions.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.skipQuickAuth = skipQuickAuth;\nexports.logIn = logIn;\nexports.checkSession = checkSession;\n\nvar _quick_auth = require('../quick_auth');\n\nvar _index = require('../store/index');\n\nvar _actions = require('../core/actions');\n\nvar _index2 = require('../core/index');\n\nvar l = _interopRequireWildcard(_index2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction skipQuickAuth(id) {\n  (0, _index.swap)(_index.updateEntity, 'lock', id, _quick_auth.skipQuickAuth, true);\n}\n\nfunction logIn(id, connection, loginHint, prompt) {\n  var m = (0, _index.read)(_index.getEntity, 'lock', id);\n  var connectionScopes = l.auth.connectionScopes(m);\n  var scopes = connectionScopes.get(connection.get('name'));\n  var params = {\n    connection: connection.get('name'),\n    connection_scope: scopes ? scopes.toJS() : undefined\n  };\n  if (!l.auth.redirect(m) && connection.get('strategy') === 'facebook') {\n    params.display = 'popup';\n  }\n  if (loginHint) {\n    params.login_hint = loginHint;\n  }\n  if (prompt) {\n    params.prompt = prompt;\n  }\n\n  if (connection.get('strategy') === 'apple') {\n    (0, _index.swap)(_index.updateEntity, 'lock', l.id(m), l.setSupressSubmitOverlay, true);\n  } else {\n    (0, _index.swap)(_index.updateEntity, 'lock', l.id(m), l.setSupressSubmitOverlay, false);\n  }\n\n  params.isSubmitting = false;\n  (0, _actions.logIn)(id, [], params);\n}\n\nfunction checkSession(id, connection, loginHint) {\n  var m = (0, _index.read)(_index.getEntity, 'lock', id);\n  if (l.auth.responseType(m).indexOf('code') >= 0) {\n    // we need to force a redirect in this case\n    // so we use login with prompt=none\n    return logIn(id, connection, loginHint, 'none');\n  } else {\n    var connectionScopes = l.auth.connectionScopes(m);\n    var scopes = connectionScopes.get(connection.get('name'));\n    var params = _extends({}, l.auth.params(m).toJS(), {\n      connection: connection.get('name')\n    });\n\n    (0, _actions.checkSession)(id, params);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}