{"ast":null,"code":"import\"antd/es/input/style\";import _Input from\"antd/es/input\";import _toConsumableArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{PlusOutlined}from'@ant-design/icons';import{TagStyle}from'./style';var CheckableTag=TagStyle.CheckableTag;var Tag=function Tag(props){var _useState=useState({checked:true,selectedTags:[]}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var closable=props.closable,onClose=props.onClose,color=props.color,checked=props.checked,onChange=props.onChange,data=props.data,hottags=props.hottags,animate=props.animate,children=props.children;var tagsFromServer=data;var log=function log(e){onClose(e);};var handleChange=function handleChange(checke){setState(_objectSpread(_objectSpread({},state),{},{checke:checke}));if(onChange)onChange(checke);};var handleChangeHot=function handleChangeHot(tag,checke){var selectedTags=state.selectedTags;var nextSelectedTags=checke?[].concat(_toConsumableArray(selectedTags),[tag]):selectedTags.filter(function(t){return t!==tag;});// console.log('You are interested in: ', nextSelectedTags);\nsetState(_objectSpread(_objectSpread({},state),{},{selectedTags:nextSelectedTags}));if(onChange)onChange(nextSelectedTags);};var selectedTags=state.selectedTags;return checked?/*#__PURE__*/React.createElement(CheckableTag,{props:props,checked:state.checked,onChange:handleChange}):hottags?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{style:{marginRight:8}},\"Categories:\"),tagsFromServer.map(function(tag){return/*#__PURE__*/React.createElement(CheckableTag,{key:tag,checked:selectedTags.indexOf(tag)>-1,onChange:function onChange(checke){return handleChangeHot(tag,checke);}},tag);})):animate?/*#__PURE__*/React.createElement(AnimatedTags,{data:data,onChange:onChange}):/*#__PURE__*/React.createElement(TagStyle,{closable:closable,onClose:log,color:color},children);};var AnimatedTags=function AnimatedTags(props){var data=props.data,onChange=props.onChange;var _useState3=useState({tags:data,inputVisible:false,inputValue:''}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];var handleClose=function handleClose(removedTag){var tags=state.tags.filter(function(tag){return tag!==removedTag;});// console.log(tags);\nsetState({tags:tags});if(onChange)onChange(tags);};var showInput=function showInput(){setState(_objectSpread(_objectSpread({},state),{},{inputVisible:true}));};var handleInputChange=function handleInputChange(e){setState(_objectSpread(_objectSpread({},state),{},{inputValue:e.target.value}));};var handleInputConfirm=function handleInputConfirm(){var inputValue=state.inputValue;var tags=state.tags;if(inputValue&&tags.indexOf(inputValue)===-1){tags=[].concat(_toConsumableArray(tags),[inputValue]);}if(onChange)onChange(tags);setState(_objectSpread(_objectSpread({},state),{},{tags:tags,inputVisible:false,inputValue:''}));};var forMap=function forMap(tag){var tagElem=/*#__PURE__*/React.createElement(TagStyle,{closable:true,onClose:function onClose(e){e.preventDefault();handleClose(tag);}},tag);return/*#__PURE__*/React.createElement(\"span\",{key:tag,style:{display:'inline-block'}},tagElem);};var tags=state.tags,inputVisible=state.inputVisible,inputValue=state.inputValue;var tagChild=tags.map(forMap);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{marginBottom:10}},tagChild),inputVisible&&/*#__PURE__*/React.createElement(_Input,{autoFocus:true,type:\"text\",size:\"small\",style:{width:78},value:inputValue,onChange:handleInputChange,onBlur:handleInputConfirm,onPressEnter:handleInputConfirm}),!inputVisible&&/*#__PURE__*/React.createElement(TagStyle,{onClick:showInput,style:{background:'#fff',borderStyle:'dashed'}},/*#__PURE__*/React.createElement(PlusOutlined,null),\" New Tag\"));};export{Tag};","map":null,"metadata":{},"sourceType":"module"}