{"ast":null,"code":"import\"antd/es/row/style\";import _Row from\"antd/es/row\";import\"antd/es/col/style\";import _Col from\"antd/es/col\";import\"antd/es/table/style\";import _Table from\"antd/es/table\";import\"antd/es/modal/style\";import _Modal from\"antd/es/modal\";import\"antd/es/form/style\";import _Form from\"antd/es/form\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import\"antd/es/select/style\";import _Select from\"antd/es/select\";import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import FeatherIcon from'feather-icons-react';import{useSelector,useDispatch}from'react-redux';import{CSVLink}from'react-csv';import*as FileSaver from'file-saver';import*as XLSX from'xlsx';import{PageHeader}from'../../components/page-headers/page-headers';import{Main,ExportStyleWrap}from'../styled';import{Cards}from'../../components/cards/frame/cards-frame';import{Button}from'../../components/buttons/buttons';import{ShareButtonPageHeader}from'../../components/buttons/share-button/share-button';import{ExportButtonPageHeader}from'../../components/buttons/export-button/export-button';import{CalendarButtonPageHeader}from'../../components/buttons/calendar-button/calendar-button';import{AutoComplete}from'../../components/autoComplete/autoComplete';import{contactSearchData}from'../../redux/contact/actionCreator';import{alertModal}from'../../components/modals/antd-modals';var Import=function Import(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{users:state.Contact.data};}),users=_useSelector.users;var _useState=useState({isModalVisible:false,fileName:'strikingDash',convertedTo:'csv',selectedRowKeys:0,selectedRows:[]}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var showModal=function showModal(){setState(_objectSpread(_objectSpread({},state),{},{isModalVisible:true}));};var handleCancel=function handleCancel(){setState(_objectSpread(_objectSpread({},state),{},{isModalVisible:false}));};var handleSearch=function handleSearch(searchText){dispatch(contactSearchData(searchText));};var usersTableData=[];var csvData=[['id','name','email','company','position']];users.sort(function(a,b){return b.time-a.time;}).map(function(user){var id=user.id,name=user.name,designation=user.designation,email=user.email,company=user.company;return usersTableData.push({key:id,user:name,email:email,company:company,position:designation});});var usersTableColumns=[{title:'User',dataIndex:'user',key:'user'},{title:'Email',dataIndex:'email',key:'email'},{title:'Company',dataIndex:'company',key:'company'},{title:'Position',dataIndex:'position',key:'position'}];var rowSelection={onChange:function onChange(selectedRowKeys,selectedRows){setState(_objectSpread(_objectSpread({},state),{},{selectedRowKeys:selectedRowKeys,selectedRows:selectedRows}));},getCheckboxProps:function getCheckboxProps(record){return{disabled:record.name==='Disabled User',// Column configuration not to be checked\nname:record.name};}};state.selectedRows.map(function(member){var key=member.key,user=member.user,position=member.position,email=member.email,company=member.company;return csvData.push([key,user,email,company,position]);});var isModalVisible=state.isModalVisible;var warning=function warning(){alertModal.warning({title:'Please Select your Required Rows!'});};var fileType='application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';var xlsxExtension='.xlsx';var exportToXLSX=function exportToXLSX(inputData,fileName){var ws=XLSX.utils.json_to_sheet(inputData);var wb={Sheets:{data:ws},SheetNames:['data']};var excelBuffer=XLSX.write(wb,{bookType:'xlsx',type:'array'});var data=new Blob([excelBuffer],{type:fileType});FileSaver.saveAs(data,fileName+xlsxExtension);setState(_objectSpread(_objectSpread({},state),{},{isModalVisible:false}));};var updateFileName=function updateFileName(e){setState(_objectSpread(_objectSpread({},state),{},{fileName:e.target.value}));};var updateFileType=function updateFileType(value){setState(_objectSpread(_objectSpread({},state),{},{convertedTo:value}));};var Option=_Select.Option;var fileName=state.fileName,convertedTo=state.convertedTo;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(PageHeader,{title:\"Export\",buttons:[/*#__PURE__*/React.createElement(\"div\",{key:\"1\",className:\"page-header-actions\"},/*#__PURE__*/React.createElement(CalendarButtonPageHeader,null),/*#__PURE__*/React.createElement(ExportButtonPageHeader,null),/*#__PURE__*/React.createElement(ShareButtonPageHeader,null),/*#__PURE__*/React.createElement(Button,{size:\"small\",type:\"primary\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"plus\",size:14}),\"Add New\"))]}),/*#__PURE__*/React.createElement(Main,null,/*#__PURE__*/React.createElement(_Row,{gutter:25},/*#__PURE__*/React.createElement(_Col,{sm:24,xs:24},/*#__PURE__*/React.createElement(ExportStyleWrap,null,/*#__PURE__*/React.createElement(Cards,{headless:true},/*#__PURE__*/React.createElement(\"div\",{className:\"sDash_export-box\"},state.selectedRows.length?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn-export\",onClick:showModal,type:\"primary\"},\"Export\"),/*#__PURE__*/React.createElement(_Modal,{title:\"Export File\",wrapClassName:\"sDash_export-wrap\",visible:isModalVisible,footer:null,onCancel:handleCancel},/*#__PURE__*/React.createElement(_Form,{name:\"contact\"},/*#__PURE__*/React.createElement(_Form.Item,{name:\"f_name\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"File Name\",value:fileName,onChange:updateFileName})),/*#__PURE__*/React.createElement(_Form.Item,{initialValue:\"CSV\",name:\"f_type\"},/*#__PURE__*/React.createElement(_Select,{onChange:updateFileType},/*#__PURE__*/React.createElement(Option,{value:\"csv\"},\"CSV\"),/*#__PURE__*/React.createElement(Option,{value:\"xlxs\"},\"xlxs\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"sDash-button-grp\"},convertedTo==='csv'?/*#__PURE__*/React.createElement(CSVLink,{filename:\"\".concat(fileName,\".csv\"),data:csvData},/*#__PURE__*/React.createElement(Button,{onClick:handleCancel,className:\"btn-export\",type:\"primary\"},\"Export\")):/*#__PURE__*/React.createElement(Button,{className:\"btn-export\",onClick:function onClick(){return exportToXLSX(csvData,fileName);},type:\"primary\"},\"Eport\"),/*#__PURE__*/React.createElement(Button,{htmlType:\"submit\",onClick:handleCancel,size:\"default\",type:\"white\",outlined:true},\"Cancel\"))))):/*#__PURE__*/React.createElement(Button,{className:\"btn-export\",onClick:warning,type:\"primary\"},\"Export\"),/*#__PURE__*/React.createElement(AutoComplete,{onSearch:handleSearch// dataSource={notData}\n,placeholder:\"Search by Name\",width:\"100%\",patterns:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"sDash_export-file-table table-bordered table-responsive\"},/*#__PURE__*/React.createElement(_Table,{rowSelection:rowSelection,dataSource:usersTableData,columns:usersTableColumns,pagination:{defaultPageSize:7,total:usersTableData.length,showTotal:function showTotal(total,range){return\"\".concat(range[0],\"-\").concat(range[1],\" of \").concat(total,\" items\");}}}))))))));};export default Import;","map":null,"metadata":{},"sourceType":"module"}