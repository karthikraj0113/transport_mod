{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = crossSliceReducer;\nvar _get2 = _interopRequireDefault(require(\"lodash/get\"));\nvar _set2 = _interopRequireDefault(require(\"lodash/set\"));\nvar _merge2 = _interopRequireDefault(require(\"lodash/merge\"));\nvar _groupBy2 = _interopRequireDefault(require(\"lodash/groupBy\"));\nvar _immer = _interopRequireDefault(require(\"immer\"));\nvar _constants = require(\"../constants\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction crossSliceReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return (0, _immer.default)(state, function (draft) {\n    switch (action.type) {\n      case _constants.actionTypes.DOCUMENT_MODIFIED:\n      case _constants.actionTypes.DOCUMENT_ADDED:\n      case _constants.actionTypes.DOCUMENT_REMOVED:\n      case _constants.actionTypes.LISTENER_RESPONSE:\n      case _constants.actionTypes.UNSET_LISTENER:\n        var groups = (0, _groupBy2.default)(!!state.queries && Object.values(state.queries) || [], function (c) {\n          return c.storeAs || c.collection;\n        });\n        Object.keys(groups).forEach(function (storeAs) {\n          var updated = {};\n          groups[storeAs].forEach(function (item) {\n            return (0, _merge2.default)(updated, (0, _get2.default)(item, 'data', {}));\n          });\n          (0, _set2.default)(draft, ['composite', storeAs], updated);\n        });\n        return draft;\n      default:\n        return state;\n    }\n  });\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","default","crossSliceReducer","_get2","_interopRequireDefault","require","_set2","_merge2","_groupBy2","_immer","_constants","obj","__esModule","state","arguments","length","undefined","action","draft","type","actionTypes","DOCUMENT_MODIFIED","DOCUMENT_ADDED","DOCUMENT_REMOVED","LISTENER_RESPONSE","UNSET_LISTENER","groups","queries","values","c","storeAs","collection","keys","forEach","updated","item"],"sources":["C:/Users/diskk/OneDrive/Desktop/New folder/Transport_modal/node_modules/redux-firestore/es/reducers/crossSliceReducer.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = crossSliceReducer;\n\nvar _get2 = _interopRequireDefault(require(\"lodash/get\"));\n\nvar _set2 = _interopRequireDefault(require(\"lodash/set\"));\n\nvar _merge2 = _interopRequireDefault(require(\"lodash/merge\"));\n\nvar _groupBy2 = _interopRequireDefault(require(\"lodash/groupBy\"));\n\nvar _immer = _interopRequireDefault(require(\"immer\"));\n\nvar _constants = require(\"../constants\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction crossSliceReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return (0, _immer.default)(state, function (draft) {\n    switch (action.type) {\n      case _constants.actionTypes.DOCUMENT_MODIFIED:\n      case _constants.actionTypes.DOCUMENT_ADDED:\n      case _constants.actionTypes.DOCUMENT_REMOVED:\n      case _constants.actionTypes.LISTENER_RESPONSE:\n      case _constants.actionTypes.UNSET_LISTENER:\n        var groups = (0, _groupBy2.default)(!!state.queries && Object.values(state.queries) || [], function (c) {\n          return c.storeAs || c.collection;\n        });\n        Object.keys(groups).forEach(function (storeAs) {\n          var updated = {};\n          groups[storeAs].forEach(function (item) {\n            return (0, _merge2.default)(updated, (0, _get2.default)(item, 'data', {}));\n          });\n          (0, _set2.default)(draft, ['composite', storeAs], updated);\n        });\n        return draft;\n\n      default:\n        return state;\n    }\n  });\n}"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,OAAO,GAAGC,iBAAiB;AAEnC,IAAIC,KAAK,GAAGC,sBAAsB,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC;AAEzD,IAAIC,KAAK,GAAGF,sBAAsB,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC;AAEzD,IAAIE,OAAO,GAAGH,sBAAsB,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC;AAE7D,IAAIG,SAAS,GAAGJ,sBAAsB,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAEjE,IAAII,MAAM,GAAGL,sBAAsB,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;AAErD,IAAIK,UAAU,GAAGL,OAAO,CAAC,cAAc,CAAC;AAExC,SAASD,sBAAsBA,CAACO,GAAG,EAAE;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;IAAEV,OAAO,EAAEU;EAAI,CAAC;AAAE;AAE9F,SAAST,iBAAiBA,CAAA,EAAG;EAC3B,IAAIW,KAAK,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;EAClF,IAAIG,MAAM,GAAGH,SAAS,CAACC,MAAM,GAAG,CAAC,GAAGD,SAAS,CAAC,CAAC,CAAC,GAAGE,SAAS;EAC5D,OAAO,CAAC,CAAC,EAAEP,MAAM,CAACR,OAAO,EAAEY,KAAK,EAAE,UAAUK,KAAK,EAAE;IACjD,QAAQD,MAAM,CAACE,IAAI;MACjB,KAAKT,UAAU,CAACU,WAAW,CAACC,iBAAiB;MAC7C,KAAKX,UAAU,CAACU,WAAW,CAACE,cAAc;MAC1C,KAAKZ,UAAU,CAACU,WAAW,CAACG,gBAAgB;MAC5C,KAAKb,UAAU,CAACU,WAAW,CAACI,iBAAiB;MAC7C,KAAKd,UAAU,CAACU,WAAW,CAACK,cAAc;QACxC,IAAIC,MAAM,GAAG,CAAC,CAAC,EAAElB,SAAS,CAACP,OAAO,EAAE,CAAC,CAACY,KAAK,CAACc,OAAO,IAAI9B,MAAM,CAAC+B,MAAM,CAACf,KAAK,CAACc,OAAO,CAAC,IAAI,EAAE,EAAE,UAAUE,CAAC,EAAE;UACtG,OAAOA,CAAC,CAACC,OAAO,IAAID,CAAC,CAACE,UAAU;QAClC,CAAC,CAAC;QACFlC,MAAM,CAACmC,IAAI,CAACN,MAAM,CAAC,CAACO,OAAO,CAAC,UAAUH,OAAO,EAAE;UAC7C,IAAII,OAAO,GAAG,CAAC,CAAC;UAChBR,MAAM,CAACI,OAAO,CAAC,CAACG,OAAO,CAAC,UAAUE,IAAI,EAAE;YACtC,OAAO,CAAC,CAAC,EAAE5B,OAAO,CAACN,OAAO,EAAEiC,OAAO,EAAE,CAAC,CAAC,EAAE/B,KAAK,CAACF,OAAO,EAAEkC,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;UAC5E,CAAC,CAAC;UACF,CAAC,CAAC,EAAE7B,KAAK,CAACL,OAAO,EAAEiB,KAAK,EAAE,CAAC,WAAW,EAAEY,OAAO,CAAC,EAAEI,OAAO,CAAC;QAC5D,CAAC,CAAC;QACF,OAAOhB,KAAK;MAEd;QACE,OAAOL,KAAK;IAChB;EACF,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"script"}