{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.observe = observe;\nexports.subscribe = subscribe;\nexports.unsubscribe = unsubscribe;\nexports.swap = swap;\nexports.updateEntity = updateEntity;\nexports.setEntity = setEntity;\nexports.read = read;\nexports.getEntity = getEntity;\nexports.removeEntity = removeEntity;\nexports.getCollection = getCollection;\nexports.updateCollection = updateCollection;\nexports.getState = getState;\nvar _atom = require('../utils/atom');\nvar _atom2 = _interopRequireDefault(_atom);\nvar _immutable = require('immutable');\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar store = (0, _atom2.default)(new _immutable.Map({}));\nfunction observe(key, id, f) {\n  subscribe(key + '-' + id, function (_, oldState, newState) {\n    var m = getEntity(newState, 'lock', id);\n    var oldM = getEntity(oldState, 'lock', id);\n    if (m && !m.equals(oldM)) {\n      f(m);\n    }\n  });\n}\nfunction subscribe(key, f) {\n  store.addWatch(key, f);\n}\nfunction unsubscribe(key) {\n  store.removeWatch(key);\n}\nfunction swap() {\n  return store.swap.apply(store, arguments);\n}\nfunction updateEntity(state, coll, id, f) {\n  for (var _len = arguments.length, args = Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {\n    args[_key - 4] = arguments[_key];\n  }\n  return state.updateIn([coll, id], new _immutable.Map({}), function (x) {\n    return f.apply(undefined, [x].concat(args));\n  });\n}\nfunction setEntity(state, coll, id, m) {\n  return state.setIn([coll, id], m);\n}\nfunction read(f) {\n  for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n  return f.apply(undefined, [store.deref()].concat(args));\n}\nfunction getEntity(state, coll) {\n  var id = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  return state.getIn([coll, id]);\n}\nfunction removeEntity(state, coll) {\n  var id = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  return state.removeIn([coll, id]);\n}\nfunction getCollection(state, coll) {\n  return state.get(coll, (0, _immutable.Map)()).toList();\n}\n\n// TODO: try to remove this fn\nfunction updateCollection(state, coll, f) {\n  for (var _len3 = arguments.length, args = Array(_len3 > 3 ? _len3 - 3 : 0), _key3 = 3; _key3 < _len3; _key3++) {\n    args[_key3 - 3] = arguments[_key3];\n  }\n  return state.update(coll, function (xs) {\n    return f.apply(undefined, [xs].concat(args));\n  });\n}\nfunction getState() {\n  return store.deref();\n}\n\n// DEV\n// store.addWatch(\"keepHistory\", (key, oldState, newState) => {\n//   if (!window.h) window.h = []; window.h.push(newState);\n//   console.debug(\"something changed\", newState.toJS());\n// });","map":{"version":3,"names":["exports","__esModule","observe","subscribe","unsubscribe","swap","updateEntity","setEntity","read","getEntity","removeEntity","getCollection","updateCollection","getState","_atom","require","_atom2","_interopRequireDefault","_immutable","obj","default","store","Map","key","id","f","_","oldState","newState","m","oldM","equals","addWatch","removeWatch","apply","arguments","state","coll","_len","length","args","Array","_key","updateIn","x","undefined","concat","setIn","_len2","_key2","deref","getIn","removeIn","get","toList","_len3","_key3","update","xs"],"sources":["C:/Users/diskk/OneDrive/Desktop/New folder/Transport_modal/node_modules/auth0-lock/lib/store/index.js"],"sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.observe = observe;\nexports.subscribe = subscribe;\nexports.unsubscribe = unsubscribe;\nexports.swap = swap;\nexports.updateEntity = updateEntity;\nexports.setEntity = setEntity;\nexports.read = read;\nexports.getEntity = getEntity;\nexports.removeEntity = removeEntity;\nexports.getCollection = getCollection;\nexports.updateCollection = updateCollection;\nexports.getState = getState;\n\nvar _atom = require('../utils/atom');\n\nvar _atom2 = _interopRequireDefault(_atom);\n\nvar _immutable = require('immutable');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar store = (0, _atom2.default)(new _immutable.Map({}));\n\nfunction observe(key, id, f) {\n  subscribe(key + '-' + id, function (_, oldState, newState) {\n    var m = getEntity(newState, 'lock', id);\n    var oldM = getEntity(oldState, 'lock', id);\n    if (m && !m.equals(oldM)) {\n      f(m);\n    }\n  });\n}\n\nfunction subscribe(key, f) {\n  store.addWatch(key, f);\n}\n\nfunction unsubscribe(key) {\n  store.removeWatch(key);\n}\n\nfunction swap() {\n  return store.swap.apply(store, arguments);\n}\n\nfunction updateEntity(state, coll, id, f) {\n  for (var _len = arguments.length, args = Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {\n    args[_key - 4] = arguments[_key];\n  }\n\n  return state.updateIn([coll, id], new _immutable.Map({}), function (x) {\n    return f.apply(undefined, [x].concat(args));\n  });\n}\n\nfunction setEntity(state, coll, id, m) {\n  return state.setIn([coll, id], m);\n}\n\nfunction read(f) {\n  for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  return f.apply(undefined, [store.deref()].concat(args));\n}\n\nfunction getEntity(state, coll) {\n  var id = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  return state.getIn([coll, id]);\n}\n\nfunction removeEntity(state, coll) {\n  var id = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  return state.removeIn([coll, id]);\n}\n\nfunction getCollection(state, coll) {\n  return state.get(coll, (0, _immutable.Map)()).toList();\n}\n\n// TODO: try to remove this fn\nfunction updateCollection(state, coll, f) {\n  for (var _len3 = arguments.length, args = Array(_len3 > 3 ? _len3 - 3 : 0), _key3 = 3; _key3 < _len3; _key3++) {\n    args[_key3 - 3] = arguments[_key3];\n  }\n\n  return state.update(coll, function (xs) {\n    return f.apply(undefined, [xs].concat(args));\n  });\n}\n\nfunction getState() {\n  return store.deref();\n}\n\n// DEV\n// store.addWatch(\"keepHistory\", (key, oldState, newState) => {\n//   if (!window.h) window.h = []; window.h.push(newState);\n//   console.debug(\"something changed\", newState.toJS());\n// });\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}