{"ast":null,"code":"import\"antd/es/row/style\";import _Row from\"antd/es/row\";import\"antd/es/col/style\";import _Col from\"antd/es/col\";import\"antd/es/upload/style\";import _Upload from\"antd/es/upload\";import _toConsumableArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import\"antd/es/message/style\";import _message from\"antd/es/message\";import React,{useState}from'react';import FeatherIcon from'feather-icons-react';import{UploadOutlined,LoadingOutlined,PlusOutlined}from'@ant-design/icons';import{PageHeader}from'../../components/page-headers/page-headers';import{Main}from'../styled';import{Cards}from'../../components/cards/frame/cards-frame';import{Button}from'../../components/buttons/buttons';import{ShareButtonPageHeader}from'../../components/buttons/share-button/share-button';import{ExportButtonPageHeader}from'../../components/buttons/export-button/export-button';import{CalendarButtonPageHeader}from'../../components/buttons/calendar-button/calendar-button';var props={name:'file',action:'https://www.mocky.io/v2/5cc8019d300000980a055e76',headers:{authorization:'authorization-text'},onChange:function onChange(info){if(info.file.status!=='uploading'){// console.log(info.file, info.fileList);\n}if(info.file.status==='done'){_message.success(\"\".concat(info.file.name,\" file uploaded successfully\"));}else if(info.file.status==='error'){_message.error(\"\".concat(info.file.name,\" file upload failed.\"));}}};var getBase64=function getBase64(img,callback){var reader=new FileReader();reader.addEventListener('load',function(){return callback(reader.result);});reader.readAsDataURL(img);};var beforeUpload=function beforeUpload(file){var isJpgOrPng=file.type==='image/jpeg'||file.type==='image/png';if(!isJpgOrPng){_message.error('You can only upload JPG/PNG file!');}var isLt2M=file.size/1024/1024<2;if(!isLt2M){_message.error('Image must smaller than 2MB!');}return isJpgOrPng&&isLt2M;};var Uploads=function Uploads(){var _useState=useState({fileList:[{uid:'-1',name:'xxx.png',status:'done',url:'http://www.baidu.com/xxx.png'}],loading:false,defaultFilelist:[{uid:'-1',name:'xxx.png',status:'done',response:'Server Error 500',// custom error message to show\nurl:'http://www.baidu.com/xxx.png'},{uid:'-2',name:'yyy.png',status:'done',url:'http://www.baidu.com/yyy.png'},{uid:'-3',name:'zzz.png',status:'error',response:'Server Error 500',// custom error message to show\nurl:'http://www.baidu.com/zzz.png'}]}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var onHandleChange=function onHandleChange(info){if(info.file.status==='uploading'){setState(_objectSpread(_objectSpread({},state),{},{loading:true}));return;}if(info.file.status==='done'){// Get this url from response in real world.\ngetBase64(info.file.originFileObj,function(imageUrl){return setState({imageUrl:imageUrl,loading:false});});}};var handleChange=function handleChange(info){var fileList=_toConsumableArray(info.fileList);fileList=fileList.slice(-2);fileList=fileList.map(function(file){if(file.response){// eslint-disable-next-line no-param-reassign\nfile.url=file.response.url;}return file;});setState(_objectSpread(_objectSpread({},state),{},{fileList:fileList}));};var uploadButton=/*#__PURE__*/React.createElement(\"div\",null,state.loading?/*#__PURE__*/React.createElement(LoadingOutlined,null):/*#__PURE__*/React.createElement(PlusOutlined,null),/*#__PURE__*/React.createElement(\"div\",{className:\"ant-upload-text\"},\"Upload\"));var imageUrl=state.imageUrl,defaultFilelist=state.defaultFilelist;var defaultProps={action:'https://www.mocky.io/v2/5cc8019d300000980a055e76',onChange:function onChange(_ref){var file=_ref.file,fileList=_ref.fileList;if(file.status!=='uploading'){setState(_objectSpread(_objectSpread({},state),{},{defaultFilelist:[].concat(_toConsumableArray(defaultFilelist),[fileList])}));}}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(PageHeader,{ghost:true,title:\"Upload\",buttons:[/*#__PURE__*/React.createElement(\"div\",{key:\"1\",className:\"page-header-actions\"},/*#__PURE__*/React.createElement(CalendarButtonPageHeader,null),/*#__PURE__*/React.createElement(ExportButtonPageHeader,null),/*#__PURE__*/React.createElement(ShareButtonPageHeader,null),/*#__PURE__*/React.createElement(Button,{size:\"small\",type:\"primary\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"plus\",size:14}),\"Add New\"))]}),/*#__PURE__*/React.createElement(Main,null,/*#__PURE__*/React.createElement(_Row,{gutter:15},/*#__PURE__*/React.createElement(_Col,{sm:12,xs:24},/*#__PURE__*/React.createElement(Cards,{title:\"Basic\"},/*#__PURE__*/React.createElement(_Upload,props,/*#__PURE__*/React.createElement(Button,{className:\"btn-outlined\",size:\"large\",type:\"light\",outlined:true},/*#__PURE__*/React.createElement(UploadOutlined,null),\" Click to Upload\"))),/*#__PURE__*/React.createElement(Cards,{title:\"Avatar\"},/*#__PURE__*/React.createElement(_Upload,{name:\"avatar\",listType:\"picture-card\",className:\"avatar-uploader\",showUploadList:false,action:\"https://www.mocky.io/v2/5cc8019d300000980a055e76\",beforeUpload:beforeUpload,onChange:onHandleChange},imageUrl?/*#__PURE__*/React.createElement(\"img\",{src:imageUrl,alt:\"avatar\",style:{width:'100%'}}):uploadButton))),/*#__PURE__*/React.createElement(_Col,{sm:12,xs:24},/*#__PURE__*/React.createElement(Cards,{title:\"Complete Control\"},/*#__PURE__*/React.createElement(_Upload,{props:{action:'https://www.mocky.io/v2/5cc8019d300000980a055e76',onChange:handleChange,multiple:true},fileList:state.fileList},/*#__PURE__*/React.createElement(Button,{className:\"btn-outlined\",size:\"large\",type:\"light\",outlined:true},/*#__PURE__*/React.createElement(UploadOutlined,null),\" Upload\"))),/*#__PURE__*/React.createElement(Cards,{title:\"Upload Default\"},/*#__PURE__*/React.createElement(_Upload,{props:defaultProps,fileList:defaultFilelist},/*#__PURE__*/React.createElement(Button,{className:\"btn-outlined\",size:\"large\",type:\"light\",outlined:true},/*#__PURE__*/React.createElement(UploadOutlined,null),\" Upload\")))))));};export default Uploads;","map":null,"metadata":{},"sourceType":"module"}