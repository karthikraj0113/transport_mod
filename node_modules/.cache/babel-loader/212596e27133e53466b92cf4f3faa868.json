{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nvar _propTypes = require('prop-types');\nvar _propTypes2 = _interopRequireDefault(_propTypes);\nvar _react = require('react');\nvar _react2 = _interopRequireDefault(_react);\nvar _policy = require('password-sheriff/lib/policy');\nvar _policy2 = _interopRequireDefault(_policy);\nvar _format = require('../../../utils/format');\nvar _format2 = _interopRequireDefault(_format);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nvar PasswordStrength = function (_React$Component) {\n  _inherits(PasswordStrength, _React$Component);\n  function PasswordStrength() {\n    _classCallCheck(this, PasswordStrength);\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n  PasswordStrength.prototype.render = function render() {\n    var _props = this.props,\n      password = _props.password,\n      policy = _props.policy,\n      messages = _props.messages;\n    var analysis = new _policy2.default(policy.toJS()).missing(password);\n    // TODO: add a component for fadeIn / fadeOut animations?\n    var className = 'auth0-lock-password-strength animated ' + (!analysis.verified ? 'fadeIn' : 'fadeOut');\n    var prepareMessage = function prepareMessage(items) {\n      items && items.forEach(function (o) {\n        if (messages[o.code]) {\n          o.message = messages[o.code];\n        }\n        o.message = _format2.default.apply(undefined, [o.message].concat(o.format || []));\n        if (o.items) {\n          prepareMessage(o.items);\n        }\n      });\n    };\n    prepareMessage(analysis.rules);\n    return _react2.default.createElement('div', {\n      className: className\n    }, _react2.default.createElement(List, {\n      items: analysis.rules\n    }));\n  };\n  return PasswordStrength;\n}(_react2.default.Component);\nexports.default = PasswordStrength;\nPasswordStrength.propTypes = {\n  messages: _propTypes2.default.object.isRequired,\n  password: _propTypes2.default.string.isRequired,\n  policy: _propTypes2.default.object.isRequired\n};\nPasswordStrength.defaultProps = {\n  messages: {}\n};\nvar List = function (_React$Component2) {\n  _inherits(List, _React$Component2);\n  function List() {\n    _classCallCheck(this, List);\n    return _possibleConstructorReturn(this, _React$Component2.apply(this, arguments));\n  }\n  List.prototype.render = function render() {\n    var items = this.props.items;\n    return items && items.length ? _react2.default.createElement('ul', null, items.map(function (x, i) {\n      return _react2.default.createElement(Item, _extends({}, x, {\n        key: i\n      }));\n    })) : null;\n  };\n  return List;\n}(_react2.default.Component);\nList.propTypes = {\n  items: _propTypes2.default.arrayOf(_propTypes2.default.object)\n};\nvar Item = function (_React$Component3) {\n  _inherits(Item, _React$Component3);\n  function Item() {\n    _classCallCheck(this, Item);\n    return _possibleConstructorReturn(this, _React$Component3.apply(this, arguments));\n  }\n  Item.prototype.render = function render() {\n    var _props2 = this.props,\n      items = _props2.items,\n      message = _props2.message,\n      verified = _props2.verified;\n    var className = verified ? 'auth0-lock-checked' : '';\n    return _react2.default.createElement('li', {\n      className: className\n    }, _react2.default.createElement('span', null, message), _react2.default.createElement(List, {\n      items: items\n    }));\n  };\n  return Item;\n}(_react2.default.Component);\nItem.propTypes = {\n  items: _propTypes2.default.array,\n  message: _propTypes2.default.string.isRequired,\n  verified: _propTypes2.default.bool.isRequired\n};","map":null,"metadata":{},"sourceType":"script"}