{"ast":null,"code":"import\"antd/es/row/style\";import _Row from\"antd/es/row\";import\"antd/es/col/style\";import _Col from\"antd/es/col\";import _toConsumableArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useLayoutEffect,useRef}from'react';import FeatherIcon from'feather-icons-react';import{NavLink}from'react-router-dom';import moment from'moment';import{useSelector,useDispatch}from'react-redux';import AddNewEvent from'./AddNewEvent';import{Cards}from'../../../components/cards/frame/cards-frame';import{Button}from'../../../components/buttons/buttons';import'./style.css';import{eventVisible,addNewEvents}from'../../../redux/calendar/actionCreator';import{Modal}from'../../../components/modals/antd-modals';var ScheduleCalendar=function ScheduleCalendar(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{events:state.Calender.events,isVisible:state.Calender.eventVisible};}),events=_useSelector.events,isVisible=_useSelector.isVisible;var _useState=useState({currentMonth:0,defaultValue:moment().format('YYYY-MM-DD')}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var dataList=useRef();useLayoutEffect(function(){if(dataList.current.querySelector('tr')===null){document.querySelector('.emptyData').style.display='flex';}else{document.querySelector('.emptyData').style.display='none';}});var currentMonth=state.currentMonth,defaultValue=state.defaultValue;var onIncrement=function onIncrement(){return setState(_objectSpread(_objectSpread({},state),{},{currentMonth:currentMonth+1}));};var onDecrement=function onDecrement(){setState(_objectSpread(_objectSpread({},state),{},{currentMonth:currentMonth-1}));};var handleCancel=function handleCancel(){dispatch(eventVisible(false));};var addNew=function addNew(event){var arrayData=[];events.map(function(data){return arrayData.push(data.id);});var max=Math.max.apply(Math,arrayData);dispatch(addNewEvents([].concat(_toConsumableArray(events),[_objectSpread(_objectSpread({},event),{},{id:max+1})])));dispatch(eventVisible(false));};var uniqueDate=[];return/*#__PURE__*/React.createElement(Cards,{headless:true},/*#__PURE__*/React.createElement(Modal,{className:\"addEvent-modal\",footer:null,type:\"primary\",title:\"Create Event\",visible:isVisible,onCancel:handleCancel},/*#__PURE__*/React.createElement(AddNewEvent,{onHandleAddEvent:addNew,defaultValue:defaultValue})),/*#__PURE__*/React.createElement(\"div\",{className:\"calendar-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"calendar-header__left\"},/*#__PURE__*/React.createElement(Button,{className:\"btn-today\",type:\"white\",outlined:true},/*#__PURE__*/React.createElement(NavLink,{to:\"./day\"},\"Today\")),/*#__PURE__*/React.createElement(\"div\",{className:\"calender-head__navigation\"},/*#__PURE__*/React.createElement(Button,{onClick:onDecrement,className:\"btn-navigate\",type:\"white\",outlined:true},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"chevron-left\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"date-label\"},\"\".concat(moment().add(currentMonth,'month').format('MMM YYYY'),\" - \").concat(moment().add(currentMonth+1,'month').format('MMM YYYY'))),/*#__PURE__*/React.createElement(Button,{onClick:onIncrement,className:\"btn-navigate\",type:\"white\",outlined:true},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"chevron-right\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"calendar-header__right\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"./day\"},\"Day\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"./week\"},\"Week\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"./month\"},\"Month\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"./year\"},\"Year\"))),/*#__PURE__*/React.createElement(NavLink,{className:\"schedule-list\",to:\"./schedule\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"list\"}),\"Schedule\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"emptyData\"},\"There is No Event Available\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table-event schedule-event\",width:\"100%\"},/*#__PURE__*/React.createElement(\"tbody\",{ref:dataList},events.map(function(event){uniqueDate.push(event.date[0]);return false;}),_toConsumableArray(new Set(uniqueDate)).map(function(date,index){return moment(date).format('MM')>=moment().add(currentMonth,'month').format('MM')&&moment(date).format('MM')<=moment().add(currentMonth+1,'month').format('MM')&&/*#__PURE__*/React.createElement(\"tr\",{key:index+1},/*#__PURE__*/React.createElement(\"td\",{className:\"schedule-time\"},/*#__PURE__*/React.createElement(\"span\",{className:\"schedule-date\"},moment(date).format('DD MMM')),/*#__PURE__*/React.createElement(\"span\",{className:\"schedule-date-name\"},moment(date).format('ddd'))),/*#__PURE__*/React.createElement(\"td\",{className:\"schedule-time-data\"},events.filter(function(item){return item.date[0]===date;}).map(function(item,ind){return/*#__PURE__*/React.createElement(_Row,{key:ind+1},/*#__PURE__*/React.createElement(_Col,{xxl:6,xl:8,md:6,sm:10,xs:24},/*#__PURE__*/React.createElement(\"span\",{className:\"bullet \".concat(item.label)}),/*#__PURE__*/React.createElement(\"span\",{className:\"schedule-time\"},moment(item.time[0],'h:mm a').format('h a'),\" -\",moment(item.time[0],'h:mm a').format('h:mm a'))),/*#__PURE__*/React.createElement(_Col,{xxl:18,xl:16,md:18,sm:14,xs:24},/*#__PURE__*/React.createElement(\"span\",{className:\"event-title\"},item.title)));})));}))));};export default ScheduleCalendar;","map":null,"metadata":{},"sourceType":"module"}