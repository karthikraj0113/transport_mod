{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.displayName = displayName;\nexports.url = url;\nvar _blueimpMd = require('blueimp-md5');\nvar _blueimpMd2 = _interopRequireDefault(_blueimpMd);\nvar _trim = require('trim');\nvar _trim2 = _interopRequireDefault(_trim);\nvar _jsonp_utils = require('../utils/jsonp_utils');\nvar _jsonp_utils2 = _interopRequireDefault(_jsonp_utils);\nvar _email = require('../field/email');\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar md5 = _blueimpMd2.default.md5 || _blueimpMd2.default;\nfunction normalize(str) {\n  return typeof str === 'string' ? (0, _trim2.default)(str.toLowerCase()) : '';\n}\nfunction displayName(email, cb) {\n  email = normalize(email);\n  if (!(0, _email.validateEmail)(email)) return cb({});\n  var url = 'https://secure.gravatar.com/' + md5(email) + '.json';\n  _jsonp_utils2.default.get(url, function (error, result) {\n    if (!error && result && result.entry && result.entry[0]) {\n      cb(null, result.entry[0].displayName);\n    } else {\n      cb({});\n    }\n  });\n}\nfunction url(email, cb) {\n  email = normalize(email);\n  if (!(0, _email.validateEmail)(email)) return cb({});\n  cb(null, 'https://secure.gravatar.com/avatar/' + md5(email) + '?d=404&s=160');\n}","map":null,"metadata":{},"sourceType":"script"}