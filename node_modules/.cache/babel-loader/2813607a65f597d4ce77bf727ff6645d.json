{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";function Map(_ref){var source=_ref.source,destination=_ref.destination;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),directions=_useState2[0],setDirections=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),waypoints=_useState4[0],setWaypoints=_useState4[1];useEffect(function(){var directionsService=new window.google.maps.DirectionsService();var directionsRenderer=new window.google.maps.DirectionsRenderer();directionsRenderer.setMap(null);directionsRenderer.setMap(window.map);calculateAndDisplayRoute(directionsService,directionsRenderer);},[source,destination,waypoints]);var addMarker=function addMarker(location,map,isWaypoint){var marker=new window.google.maps.Marker({position:location,map:map,draggable:isWaypoint});if(isWaypoint){marker.addListener(\"click\",function(){var index=waypoints.findIndex(function(waypoint){return waypoint.lat===location.lat()&&waypoint.lng===location.lng();});var newWaypoints=_toConsumableArray(waypoints);newWaypoints.splice(index,1);setWaypoints(newWaypoints);});marker.addListener(\"dragend\",function(){var latLng=marker.getPosition();var lat=latLng.lat();var lng=latLng.lng();setWaypoints([].concat(_toConsumableArray(waypoints),[{lat:lat,lng:lng}]));});}};var calculateAndDisplayRoute=function calculateAndDisplayRoute(directionsService,directionsRenderer){var waypointsLocations=waypoints.map(function(waypoint,index){return{location:new window.google.maps.LatLng(waypoint.lat,waypoint.lng),stopover:true};});directionsService.route({origin:source,destination:destination,waypoints:waypointsLocations,travelMode:window.google.maps.TravelMode.DRIVING},function(response,status){if(status===\"OK\"){setDirections(response);directionsRenderer.setDirections(response);}else{window.alert(\"Directions request failed due to \"+status);}});};var onLoad=function onLoad(map){addMarker(source,map,false);addMarker(destination,map,false);window.map=map;};return/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100%\",height:\"500px\"}},/*#__PURE__*/React.createElement(GoogleMapReact,{bootstrapURLKeys:{key:\"AIzaSyDqFvKNd_v1cvfYXvO5ojC0H52LWLfDPVE\"},defaultCenter:{lat:13.067439,lng:80.237617},defaultZoom:12,yesIWantToUseGoogleMapApiInternals:true,onGoogleApiLoaded:function onGoogleApiLoaded(_ref2){var map=_ref2.map;return onLoad(map);}}));}export default Map;","map":null,"metadata":{},"sourceType":"module"}