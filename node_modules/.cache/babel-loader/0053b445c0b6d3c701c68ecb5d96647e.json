{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import FeatherIcon from'feather-icons-react';import moment from'moment';import{Link}from'react-router-dom/cjs/react-router-dom.min';import{useDispatch,useSelector}from'react-redux';import FontAwesome from'react-fontawesome';import{Style,EmailAuthor,EmailHeader}from'./style';import Topbar from'./Topbar';import{AutoComplete}from'../../../components/autoComplete/autoComplete';import Heading from'../../../components/heading/heading';import{textRefactor}from'../../../components/utilities/utilities';import{Dropdown}from'../../../components/dropdown/dropdown';import{onStarUpdate,onSortingAscending,onSortingDescending}from'../../../redux/email/actionCreator';var Content=function Content(_ref){var searchData=_ref.searchData,email=_ref.email;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{rtl:state.ChangeLayoutMode.rtlData};}),rtl=_useSelector.rtl;var _useState=useState({selectedRowKeys:[],notData:searchData,emails:email,sort:true}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var selectedRowKeys=state.selectedRowKeys,notData=state.notData,emails=state.emails,sort=state.sort;useEffect(function(){setState({emails:email,selectedRowKeys:selectedRowKeys,sort:sort});},[email,selectedRowKeys,sort]);var handleSearch=function handleSearch(searchText){var data=searchData!==undefined&&searchData.filter(function(item){return item.title.toUpperCase().startsWith(searchText.toUpperCase());});setState(_objectSpread(_objectSpread({},state),{},{notData:data}));};var refreshState=function refreshState(e){e.preventDefault();setState(_objectSpread(_objectSpread({},state),{},{emails:email}));};var onStaredChange=function onStaredChange(id){dispatch(onStarUpdate(id));};var data=[];if(emails!==undefined)emails.map(function(inbox,key){// eslint-disable-next-line no-shadow\nvar id=inbox.id,type=inbox.type,email=inbox.email,userName=inbox.userName,status=inbox.status,img=inbox.img,subject=inbox.subject,body=inbox.body,attach=inbox.attach,stared=inbox.stared;var same=moment(id).format('MM-DD-YYYY')===moment().format('MM-DD-YYYY');return data.push({key:id,name:/*#__PURE__*/React.createElement(EmailAuthor,null,/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){onStaredChange(id);},to:\"#\",className:stared?'starActive':'starDeactivate'},/*#__PURE__*/React.createElement(FontAwesome,{name:\"star-o\"})),/*#__PURE__*/React.createElement(\"img\",{src:img,alt:\"\"}),/*#__PURE__*/React.createElement(Heading,{as:\"h5\"},/*#__PURE__*/React.createElement(Link,null,userName))),email:email,status:status,content:/*#__PURE__*/React.createElement(EmailHeader,null,/*#__PURE__*/React.createElement(Heading,{as:\"h5\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin/email/single/\".concat(id)},subject),/*#__PURE__*/React.createElement(\"span\",{className:\"mail-badge \".concat(key<=1?'primary':'')},type)),/*#__PURE__*/React.createElement(\"p\",null,textRefactor(body,10)),attach.length?attach.map(function(item){return/*#__PURE__*/React.createElement(\"a\",{key:item,className:\"btn-attachment\",download:true,href:require(\"../../../static/img/email/\".concat(item))},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"paperclip\",size:14}),item);}):null),time:/*#__PURE__*/React.createElement(\"span\",{className:\"email-time\"},same?moment(id).format('hh:mm A'):moment(id).format('LL'))});});var handleChange=function handleChange(pagination,filters,sorter){setState(_objectSpread(_objectSpread({},state),{},{sortedInfo:sorter}));};var onRowSelection=function onRowSelection(filterObj){var filter=filterObj.filter,byValue=filterObj.byValue;var newSelectedRowKeys=emails.filter(function(value){return value[filter]===byValue;}).map(function(item){return item.id;});setState(_objectSpread(_objectSpread({},state),{},{selectedRowKeys:newSelectedRowKeys}));};var onSelectChange=function onSelectChange(selectedRowKey){setState(_objectSpread(_objectSpread({},state),{},{selectedRowKeys:selectedRowKey}));};var rowSelection={selectedRowKeys:selectedRowKeys,onChange:onSelectChange,hideDefaultSelections:true,selections:[{key:'all',text:'All',onSelect:function onSelect(){var newSelectedRowKeys=email.map(function(item){return item.id;});setState(_objectSpread(_objectSpread({},state),{},{selectedRowKeys:newSelectedRowKeys}));}},{key:'read',text:'Read',onSelect:onRowSelection.bind(null,{filter:'status',byValue:'read'})},{key:'unread',text:'Unread',onSelect:onRowSelection.bind(null,{filter:'status',byValue:'unread'})},{key:'stared',text:'Stared',onSelect:onRowSelection.bind(null,{filter:'stared',byValue:true})},{key:'unstared',text:'Unstared',onSelect:onRowSelection.bind(null,{filter:'status',byValue:false})}]};var columns=[{title:/*#__PURE__*/React.createElement(Topbar,{refreshState:refreshState}),dataIndex:'name'},{title:/*#__PURE__*/React.createElement(\"div\",{className:\"email-top-search\"},/*#__PURE__*/React.createElement(AutoComplete,{placeholder:\"Search mail\",onSearch:handleSearch,dataSource:notData,width:\"80%\",patterns:true})),dataIndex:'content'},{title:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"email-top-right d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"page-number\"},\"1 - 50 of 235\"),/*#__PURE__*/React.createElement(\"div\",{className:\"pagination-slider\"},/*#__PURE__*/React.createElement(Link,{className:\"btn-paging\",to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:!rtl?'chevron-left':'chevron-right',size:14})),/*#__PURE__*/React.createElement(Link,{className:\"btn-paging\",to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:rtl?'chevron-left':'chevron-right',size:14}))),/*#__PURE__*/React.createElement(\"div\",{className:\"email-extra\"},/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){setState(_objectSpread(_objectSpread({},state),{},{sort:!sort}));if(sort){dispatch(onSortingAscending());}else{dispatch(onSortingDescending());}},to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"sliders\",size:16})),/*#__PURE__*/React.createElement(Dropdown,{content:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"span\",null,\"Newest\")),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"span\",null,\"Oldest\")),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"span\",null,\"Unread\")))},/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"more-vertical\",size:18})))))),dataIndex:'time',key:'time'}];return/*#__PURE__*/React.createElement(Style,{className:\"table-responsive\",pagination:false,rowSelection:rowSelection,columns:columns,dataSource:data,onChange:handleChange});};export default Content;","map":null,"metadata":{},"sourceType":"module"}