{"ast":null,"code":"import\"antd/es/button/style\";import _Button from\"antd/es/button\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import\"antd/es/form/style\";import _Form from\"antd/es/form\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useCallback}from'react';import{Link,NavLink,useHistory}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';// eslint-disable-next-line import/no-extraneous-dependencies\nimport{FacebookOutlined,TwitterOutlined}from'@ant-design/icons';import{AuthWrapper}from'./style';import{login}from'../../../../redux/authentication/actionCreator';import{fbAuthLogin,fbAuthLoginWithGoogle,fbAuthLoginWithFacebook}from'../../../../redux/firebase/auth/actionCreator';import{Checkbox}from'../../../../components/checkbox/checkbox';import Heading from'../../../../components/heading/heading';var SignIn=function SignIn(){var history=useHistory();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{error:state.firebaseAuth.error,isLoading:state.firebaseAuth.loading,isFbAuthenticate:state.fb.auth.uid};}),isLoading=_useSelector.isLoading,error=_useSelector.error,isFbAuthenticate=_useSelector.isFbAuthenticate;var _Form$useForm=_Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var _useState=useState({checked:null}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var handleFbLogin=useCallback(function(){dispatch(login());history.push('/admin');},[dispatch,history]);useEffect(function(){if(isFbAuthenticate){handleFbLogin();}},[isFbAuthenticate,handleFbLogin]);var handleSubmit=function handleSubmit(values){dispatch(fbAuthLogin(values));};var onChange=function onChange(checked){setState(_objectSpread(_objectSpread({},state),{},{checked:checked}));};console.log(isLoading);return/*#__PURE__*/React.createElement(AuthWrapper,null,/*#__PURE__*/React.createElement(\"p\",{className:\"auth-notice\"},\"Don\\u2019t have an account? \",/*#__PURE__*/React.createElement(NavLink,{to:\"/fbRegister\"},\"Sign up now\")),/*#__PURE__*/React.createElement(\"div\",{className:\"auth-contents\"},/*#__PURE__*/React.createElement(_Form,{name:\"login\",form:form,onFinish:handleSubmit,layout:\"vertical\"},/*#__PURE__*/React.createElement(Heading,{as:\"h3\"},\"Sign in With Firebase to \",/*#__PURE__*/React.createElement(\"span\",{className:\"color-secondary\"},\"Admin\")),/*#__PURE__*/React.createElement(_Form.Item,{name:\"email\",rules:[{message:'Please input your Email!',required:true}],label:\"Email Address\"},/*#__PURE__*/React.createElement(_Input,null)),/*#__PURE__*/React.createElement(_Form.Item,{rules:[{message:'Please input your password!',required:true}],name:\"password\",label:\"Password\"},/*#__PURE__*/React.createElement(_Input.Password,{placeholder:\"Password\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"auth-form-action\"},/*#__PURE__*/React.createElement(Checkbox,{onChange:onChange},\"Keep me logged in\"),/*#__PURE__*/React.createElement(NavLink,{className:\"forgot-pass-link\",to:\"/forgotPassword\"},\"Forgot password?\")),error?/*#__PURE__*/React.createElement(\"p\",null,error.message):null,/*#__PURE__*/React.createElement(_Form.Item,null,/*#__PURE__*/React.createElement(_Button,{className:\"btn-signin\",htmlType:\"submit\",type:\"primary\",size:\"large\"},isLoading?'Loading...':'Sign In')),/*#__PURE__*/React.createElement(\"p\",{className:\"form-divider\"},/*#__PURE__*/React.createElement(\"span\",null,\"Or\")),/*#__PURE__*/React.createElement(\"ul\",{className:\"social-login\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return dispatch(fbAuthLoginWithGoogle());},className:\"google-signup\",to:\"#\"},/*#__PURE__*/React.createElement(\"img\",{src:require('../../../../static/img/google.png'),alt:\"\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Sign in with Google\"))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return dispatch(fbAuthLoginWithFacebook());},className:\"facebook-sign\",to:\"#\"},/*#__PURE__*/React.createElement(FacebookOutlined,null))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{className:\"twitter-sign\",to:\"#\"},/*#__PURE__*/React.createElement(TwitterOutlined,null)))))));};export default SignIn;","map":null,"metadata":{},"sourceType":"module"}