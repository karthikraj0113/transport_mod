{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import axios from'axios';import{getItem}from'../../utility/localStorageControl';var API_ENDPOINT=process.env.REACT_APP_API_ENDPOINT;var authHeader=function authHeader(){return{Authorization:\"Bearer \".concat(getItem('access_token'))};};var client=axios.create({baseURL:API_ENDPOINT,headers:{Authorization:\"Bearer \".concat(getItem('access_token')),'Content-Type':'application/json'}});var DataService=/*#__PURE__*/function(){function DataService(){_classCallCheck(this,DataService);}_createClass(DataService,null,[{key:\"get\",value:function get(){var path=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return client({method:'GET',url:path,headers:_objectSpread({},authHeader())});}},{key:\"post\",value:function post(){var path=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var optionalHeader=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return client({method:'POST',url:path,data:data,headers:_objectSpread(_objectSpread({},authHeader()),optionalHeader)});}},{key:\"patch\",value:function patch(){var path=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return client({method:'PATCH',url:path,data:JSON.stringify(data),headers:_objectSpread({},authHeader())});}},{key:\"delete\",value:function _delete(){var path=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return client({method:'DELETE',url:path,data:JSON.stringify(data),headers:_objectSpread({},authHeader())});}},{key:\"put\",value:function put(){var path=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return client({method:'PUT',url:path,data:JSON.stringify(data),headers:_objectSpread({},authHeader())});}}]);return DataService;}();/**\r\n * axios interceptors runs before and after a request, letting the developer modify req,req more\r\n * For more details on axios interceptor see https://github.com/axios/axios#interceptors\r\n */client.interceptors.request.use(function(config){// do something before executing the request\n// For example tag along the bearer access token to request header or set a cookie\nvar requestConfig=config;var headers=config.headers;requestConfig.headers=_objectSpread(_objectSpread({},headers),{},{Authorization:\"Bearer \".concat(getItem('access_token'))});return requestConfig;});client.interceptors.response.use(function(response){return response;},function(error){/**\r\n     * Do something in case the response returns an error code [3**, 4**, 5**] etc\r\n     * For example, on token expiration retrieve a new access token, retry a failed request etc\r\n     */var response=error.response;var originalRequest=error.config;if(response){if(response.status===500){// do something here\n}else{return originalRequest;}}return Promise.reject(error);});export{DataService};","map":null,"metadata":{},"sourceType":"module"}