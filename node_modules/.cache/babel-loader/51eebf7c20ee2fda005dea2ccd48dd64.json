{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.remove = exports.render = undefined;\nvar _react = require('react');\nvar _react2 = _interopRequireDefault(_react);\nvar _reactDom = require('react-dom');\nvar _reactDom2 = _interopRequireDefault(_reactDom);\nvar _CSSCore = require('../CSSCore');\nvar _CSSCore2 = _interopRequireDefault(_CSSCore);\nvar _container = require('./box/container');\nvar _container2 = _interopRequireDefault(_container);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nvar ContainerManager = function () {\n  function ContainerManager() {\n    _classCallCheck(this, ContainerManager);\n  }\n  ContainerManager.prototype.ensure = function ensure(id, shouldAppend) {\n    var container = window.document.getElementById(id);\n    if (!container && shouldAppend) {\n      container = window.document.createElement('main');\n      container.id = id;\n      container.className = 'auth0-lock-container';\n      window.document.body.appendChild(container);\n    }\n    if (!container) {\n      throw new Error('Can\\'t find element with id ' + id);\n    }\n    return container;\n  };\n  return ContainerManager;\n}();\nvar Renderer = function () {\n  function Renderer() {\n    _classCallCheck(this, Renderer);\n    this.containerManager = new ContainerManager();\n    this.modals = {};\n  }\n  Renderer.prototype.render = function render(containerId, props) {\n    var isModal = props.isModal;\n    var container = this.containerManager.ensure(containerId, isModal);\n    if (isModal && !this.modals[containerId]) {\n      _CSSCore2.default.addClass(window.document.getElementsByTagName('html')[0], 'auth0-lock-html');\n    }\n    // eslint-disable-next-line\n    var component = _reactDom2.default.render(_react2.default.createElement(_container2.default, props), container);\n    if (isModal) {\n      this.modals[containerId] = component;\n    }\n    return component;\n  };\n  Renderer.prototype.remove = function remove(containerId) {\n    var _this = this;\n    if (this.modals[containerId]) {\n      this.modals[containerId].hide();\n      setTimeout(function () {\n        return _this.unmount(containerId);\n      }, 1000);\n    } else {\n      this.unmount(containerId);\n    }\n  };\n  Renderer.prototype.unmount = function unmount(containerId) {\n    try {\n      var container = this.containerManager.ensure(containerId);\n      if (container) {\n        _reactDom2.default.unmountComponentAtNode(container);\n      }\n    } catch (e) {\n      // do nothing if container doesn't exist\n    }\n    if (this.modals[containerId]) {\n      delete this.modals[containerId];\n      _CSSCore2.default.removeClass(window.document.getElementsByTagName('html')[0], 'auth0-lock-html');\n    }\n  };\n  return Renderer;\n}();\nvar renderer = new Renderer();\nvar render = exports.render = function render() {\n  return renderer.render.apply(renderer, arguments);\n};\nvar remove = exports.remove = function remove() {\n  return renderer.remove.apply(renderer, arguments);\n};","map":null,"metadata":{},"sourceType":"script"}