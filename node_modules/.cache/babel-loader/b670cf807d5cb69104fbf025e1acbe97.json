{"ast":null,"code":"import\"antd/es/input/style\";import _Input from\"antd/es/input\";import\"antd/es/row/style\";import _Row from\"antd/es/row\";import\"antd/es/col/style\";import _Col from\"antd/es/col\";import _toConsumableArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import\"antd/es/form/style\";import _Form from\"antd/es/form\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useSelector,useDispatch}from'react-redux';import{Link}from'react-router-dom';import{ContactPageheaderStyle}from'./style';import ContactCard from'./overview/ContactCard';import{PageHeader}from'../../components/page-headers/page-headers';import{Main,CardToolbox,BasicFormWrapper}from'../styled';import{AutoComplete}from'../../components/autoComplete/autoComplete';import{Button}from'../../components/buttons/buttons';import{Cards}from'../../components/cards/frame/cards-frame';import{AddUser}from'../pages/style';import{contactSearchData,contactAddData}from'../../redux/contact/actionCreator';import{Modal}from'../../components/modals/antd-modals';var AddNew=function AddNew(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{users:state.Contact.data};}),users=_useSelector.users;var _Form$useForm=_Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var _useState=useState({selectedRowKeys:0,selectedRows:0,visible:true,editVisible:false,modalType:'primary',url:null,update:{}}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var update=state.update;var handleSearch=function handleSearch(searchText){dispatch(contactSearchData(searchText));};var showModal=function showModal(){setState(_objectSpread(_objectSpread({},state),{},{visible:true}));};var showEditModal=function showEditModal(data){setState(_objectSpread(_objectSpread({},state),{},{editVisible:true,update:data}));};var onCancel=function onCancel(){setState(_objectSpread(_objectSpread({},state),{},{visible:false,editVisible:false}));};var handleOk=function handleOk(values){onCancel();var arrayData=[];users.map(function(data){return arrayData.push(data.id);});var max=Math.max.apply(Math,arrayData);dispatch(contactAddData([].concat(_toConsumableArray(users),[_objectSpread(_objectSpread({},values),{},{id:max+1,time:new Date().getTime(),img:'static/img/users/6.png',live:false,stared:false})])));form.resetFields();};var handleEditOk=function handleEditOk(values){onCancel();var updateUsers=users;updateUsers.map(function(user){if(user.id===update.id){var updateUser=user;updateUser.id=update.id;updateUser.name=values.name;updateUser.email=values.email;updateUser.phone=values.phone;updateUser.designation=values.designation;updateUser.company=values.company;updateUser.time=update.time;updateUser.img=update.img;updateUser.stared=update.stared;}return true;});dispatch(contactAddData(updateUsers));form.resetFields();};var handleCancel=function handleCancel(){onCancel();};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CardToolbox,null,/*#__PURE__*/React.createElement(ContactPageheaderStyle,null,/*#__PURE__*/React.createElement(PageHeader,{ghost:true,title:\"Contacts\",subTitle:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(AutoComplete,{onSearch:handleSearch,placeholder:\"Search by Name\",width:\"100%\",patterns:true})),buttons:[/*#__PURE__*/React.createElement(Button,{onClick:showModal,className:\"btn-add_new\",size:\"default\",type:\"primary\",key:\"1\"},/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"+ Add New\"))]}))),/*#__PURE__*/React.createElement(Main,null,/*#__PURE__*/React.createElement(_Row,{gutter:25},users.map(function(user){return/*#__PURE__*/React.createElement(_Col,{key:user.id,md:6},/*#__PURE__*/React.createElement(Cards,{headless:true},/*#__PURE__*/React.createElement(ContactCard,{showEditModal:showEditModal,user:user})));})),/*#__PURE__*/React.createElement(Modal,{type:state.modalType,title:\"Contact Information\",visible:state.visible,footer:null,onCancel:handleCancel},/*#__PURE__*/React.createElement(\"div\",{className:\"project-modal\"},/*#__PURE__*/React.createElement(AddUser,null,/*#__PURE__*/React.createElement(BasicFormWrapper,null,/*#__PURE__*/React.createElement(_Form,{form:form,name:\"contact\",onFinish:handleOk},/*#__PURE__*/React.createElement(_Form.Item,{label:\"Name\",name:\"name\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Input Name\"})),/*#__PURE__*/React.createElement(_Form.Item,{label:\"Email Address\",name:\"email\",rules:[{message:'Please input your email!',type:'email'}]},/*#__PURE__*/React.createElement(_Input,{placeholder:\"name@example.com\"})),/*#__PURE__*/React.createElement(_Form.Item,{name:\"phone\",label:\"Phone Number\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"+440 2546 5236\"})),/*#__PURE__*/React.createElement(_Form.Item,{name:\"designation\",label:\"Position\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Input Position\"})),/*#__PURE__*/React.createElement(_Form.Item,{name:\"company\",label:\"Company Name\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Company Name\"})),/*#__PURE__*/React.createElement(Button,{htmlType:\"submit\",size:\"default\",type:\"primary\",key:\"submit\"},\"Add New Contact\")))))),/*#__PURE__*/React.createElement(Modal,{type:state.modalType,title:\"Contact Information\",visible:state.editVisible,footer:null,onCancel:handleCancel},/*#__PURE__*/React.createElement(\"div\",{className:\"project-modal\"},/*#__PURE__*/React.createElement(AddUser,null,/*#__PURE__*/React.createElement(BasicFormWrapper,null,/*#__PURE__*/React.createElement(_Form,{form:form,name:\"contactEdit\",onFinish:handleEditOk},/*#__PURE__*/React.createElement(_Form.Item,{initialValue:update.name,label:\"Name\",name:\"name\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Input Name\"})),/*#__PURE__*/React.createElement(_Form.Item,{label:\"Email Address\",name:\"email\",rules:[{message:'Please input your email!',type:'email'}],initialValue:update.email},/*#__PURE__*/React.createElement(_Input,{placeholder:\"name@example.com\"})),/*#__PURE__*/React.createElement(_Form.Item,{initialValue:update.phone,name:\"phone\",label:\"Phone Number\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"+440 2546 5236\"})),/*#__PURE__*/React.createElement(_Form.Item,{initialValue:update.designation,name:\"designation\",label:\"Position\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Input Position\"})),/*#__PURE__*/React.createElement(_Form.Item,{initialValue:update.company,name:\"company\",label:\"Company Name\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Company Name\"})),/*#__PURE__*/React.createElement(Button,{htmlType:\"submit\",size:\"default\",type:\"primary\",key:\"submit\"},\"Add New Contact\"))))))));};export default AddNew;","map":null,"metadata":{},"sourceType":"module"}