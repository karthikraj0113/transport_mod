{"ast":null,"code":"import\"antd/es/table/style\";import _Table from\"antd/es/table\";import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{NavLink}from'react-router-dom';import{ComposableMap,Geographies,Geography,Marker,ZoomableGroup}from'react-simple-maps';import ReactTooltip from'react-tooltip';import{LocationMapWrapper}from'../../style';import{locationGetData}from'../../../../redux/chartContent/actionCreator';import{Cards}from'../../../../components/cards/frame/cards-frame';var geoUrl='https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json';var TopCountriesRevenue=function TopCountriesRevenue(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{locationState:state.chartContent.locationData,topMenu:state.ChangeLayoutMode.topMenu};}),locationState=_useSelector.locationState,topMenu=_useSelector.topMenu;useEffect(function(){if(locationGetData){dispatch(locationGetData());}},[dispatch]);var moreContent=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NavLink,{to:\"#\"},/*#__PURE__*/React.createElement(\"span\",null,\"2 years\")),/*#__PURE__*/React.createElement(NavLink,{to:\"#\"},/*#__PURE__*/React.createElement(\"span\",null,\"3 years\")),/*#__PURE__*/React.createElement(NavLink,{to:\"#\"},/*#__PURE__*/React.createElement(\"span\",null,\"4 years\")));var locationData=[];if(locationState!==null){locationState.map(function(value){var key=value.key,location=value.location,revenue=value.revenue;return locationData.push({key:key,location:location,revenue:revenue});});}var locationColumns=[{title:'',dataIndex:'location',key:'location'},{title:'',dataIndex:'revenue',key:'revenue'}];var _useState=useState({coordinates:[0,0],zoom:1}),_useState2=_slicedToArray(_useState,2),position=_useState2[0],setPosition=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var rounded=function rounded(num){if(num>1000000000){return\"\".concat(Math.round(num/100000000)/10,\"Bn\");}if(num>1000000){return\"\".concat(Math.round(num/100000)/10,\"M\");}return\"\".concat(Math.round(num/100)/10,\"K\");};function handleZoomIn(){if(position.zoom>=4)return;setPosition(function(pos){return _objectSpread(_objectSpread({},pos),{},{zoom:pos.zoom*2});});}function handleZoomOut(){if(position.zoom<=1)return;setPosition(function(pos){return _objectSpread(_objectSpread({},pos),{},{zoom:pos.zoom/2});});}function handleMoveEnd(position){setPosition(position);}var markers=[{markerOffset:-30,name:'Buenos Aires',coordinates:[-58.3816,-34.6037]},{markerOffset:15,name:'La Paz',coordinates:[-68.1193,-16.4897]},{markerOffset:15,name:'Quito',coordinates:[-78.4678,-0.1807]},{markerOffset:-30,name:'Georgetown',coordinates:[-58.1551,6.8013]},{markerOffset:15,name:'Caracas',coordinates:[-66.9036,10.4806]},{markerOffset:15,name:'Lima',coordinates:[-77.0428,-12.0464]}];return/*#__PURE__*/React.createElement(LocationMapWrapper,null,/*#__PURE__*/React.createElement(\"div\",{className:\"full-width-table\"},/*#__PURE__*/React.createElement(Cards,{title:\"Top Countries by Revenue\",size:\"large\",more:moreContent},/*#__PURE__*/React.createElement(\"div\",{className:\"location-map d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ReactTooltip,null,content),/*#__PURE__*/React.createElement(ComposableMap,{\"data-tip\":\"\",projectionConfig:!topMenu?{scale:window.innerWidth<=479?140:115}:{scale:100},viewBox:\"40, \".concat(!topMenu?window.innerWidth<=479?130:140:160,\", 800, 290\")},/*#__PURE__*/React.createElement(ZoomableGroup,{zoom:position.zoom,center:position.coordinates,onMoveEnd:handleMoveEnd},/*#__PURE__*/React.createElement(Geographies,{geography:geoUrl},function(_ref){var geographies=_ref.geographies;return geographies.map(function(geo){return/*#__PURE__*/React.createElement(Geography,{key:geo.rsmKey,geography:geo,onMouseEnter:function onMouseEnter(){var _geo$properties=geo.properties,NAME=_geo$properties.NAME,POP_EST=_geo$properties.POP_EST;setContent(\"\".concat(NAME,\" \\u2014 \").concat(rounded(POP_EST)));},onMouseLeave:function onMouseLeave(){setContent('');},fill:\"#DDD\",stroke:\"#FFF\",style:{default:{fill:'#E3E6EF',outline:'none'},hover:{fill:'rgb(95, 99, 242)',outline:'none'},pressed:{fill:'#E42',outline:'none'}}});});}),markers.map(function(_ref2){var name=_ref2.name,coordinates=_ref2.coordinates;return/*#__PURE__*/React.createElement(Marker,{key:name,coordinates:coordinates},/*#__PURE__*/React.createElement(\"g\",{id:\"Ellipse_33\",\"data-name\":\"Ellipse 33\",fill:\"#fff\",stroke:\"#5f63f2\",strokeWidth:\"6\"},/*#__PURE__*/React.createElement(\"circle\",{cx:\"8\",cy:\"8\",r:\"8\",stroke:\"none\"}),/*#__PURE__*/React.createElement(\"circle\",{cx:\"8\",cy:\"8\",r:\"6\",fill:\"none\"})));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"controls\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:handleZoomIn},/*#__PURE__*/React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:\"3\"},/*#__PURE__*/React.createElement(\"line\",{x1:\"12\",y1:\"5\",x2:\"12\",y2:\"19\"}),/*#__PURE__*/React.createElement(\"line\",{x1:\"5\",y1:\"12\",x2:\"19\",y2:\"12\"}))),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:handleZoomOut},/*#__PURE__*/React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:\"3\"},/*#__PURE__*/React.createElement(\"line\",{x1:\"5\",y1:\"12\",x2:\"19\",y2:\"12\"})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"location-table theme-2\"},/*#__PURE__*/React.createElement(_Table,{columns:locationColumns,dataSource:locationData,pagination:false,showHeader:false})))));};export default TopCountriesRevenue;","map":null,"metadata":{},"sourceType":"module"}