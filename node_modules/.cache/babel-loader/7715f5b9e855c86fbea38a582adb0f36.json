{"ast":null,"code":"import\"antd/es/input/style\";import _Input from\"antd/es/input\";import\"antd/es/row/style\";import _Row from\"antd/es/row\";import\"antd/es/col/style\";import _Col from\"antd/es/col\";import\"antd/es/table/style\";import _Table from\"antd/es/table\";import _toConsumableArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectWithoutProperties from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import\"antd/es/form/style\";import _Form from\"antd/es/form\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";var _excluded=[\"className\",\"style\"];import React,{useState}from'react';import{useSelector,useDispatch}from'react-redux';import FeatherIcon from'feather-icons-react';import{Link}from'react-router-dom';import{sortableContainer,sortableElement,sortableHandle}from'react-sortable-hoc';import{arrayMove}from'array-move';import{Span,TodoStyleWrapper}from'./style';import{Main,TableWrapper,BasicFormWrapper}from'../styled';import{Modal}from'../../components/modals/antd-modals';import{Button}from'../../components/buttons/buttons';import{Cards}from'../../components/cards/frame/cards-frame';import{PageHeader}from'../../components/page-headers/page-headers';import{ShareButtonPageHeader}from'../../components/buttons/share-button/share-button';import{ExportButtonPageHeader}from'../../components/buttons/export-button/export-button';import{CalendarButtonPageHeader}from'../../components/buttons/calendar-button/calendar-button';import{ToDoAddData,ToDoDeleteData,onStarUpdate}from'../../redux/todo/actionCreator';var DragHandle=sortableHandle(function(){return/*#__PURE__*/React.createElement(FeatherIcon,{size:16,style:{cursor:'pointer',color:'#999'},icon:\"move\"});});var ToDo=function ToDo(){var todoData=useSelector(function(state){return state.Todo.data;});var dispatch=useDispatch();var _useState=useState({inputData:'',selectedRowKeys:[]}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var selectedRowKeys=state.selectedRowKeys,inputData=state.inputData;var columns=[{title:'',dataIndex:'item'},{title:'',dataIndex:'action',width:120}];var onHandleDelete=function onHandleDelete(key){var data=todoData.filter(function(item){return item.key!==key;});dispatch(ToDoDeleteData(data));};var dataSource=[];if(todoData!==null){todoData.map(function(item,index){return dataSource.push({key:index+1,index:index,item:/*#__PURE__*/React.createElement(Span,{className:selectedRowKeys.includes(index)?'todo-title active':'todo-title inactive'},item.item),action:/*#__PURE__*/React.createElement(\"div\",{className:\"todos-action\"},/*#__PURE__*/React.createElement(DragHandle,null),/*#__PURE__*/React.createElement(Link,{className:item.favorite?'star active':'star',onClick:function onClick(){return dispatch(onStarUpdate(todoData,item.key));},to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"star\",style:{color:item.favorite?'gold':'#888'},size:16})),/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return onHandleDelete(item.key);},to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"trash-2\",size:16})))});});}var _Form$useForm=_Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var onSelectChange=function onSelectChange(selectedRowKey){setState(_objectSpread(_objectSpread({},state),{},{selectedRowKeys:selectedRowKey}));};var rowSelection={onChange:onSelectChange,getCheckboxProps:function getCheckboxProps(record){return{disabled:record.name==='Disabled User',// Column configuration not to be checked\nname:record.name};}};var SortableItem=sortableElement(function(props){return/*#__PURE__*/React.createElement(\"tr\",props);});var SortableContainer=sortableContainer(function(props){return/*#__PURE__*/React.createElement(\"tbody\",props);});var onSortEnd=function onSortEnd(_ref){var oldIndex=_ref.oldIndex,newIndex=_ref.newIndex;if(oldIndex!==newIndex){var newData=arrayMove([].concat(todoData),oldIndex,newIndex).filter(function(el){return!!el;});return dispatch(ToDoAddData(newData));}return true;};var DraggableBodyRow=function DraggableBodyRow(_ref2){var className=_ref2.className,style=_ref2.style,restProps=_objectWithoutProperties(_ref2,_excluded);// function findIndex base on Table rowKey props and should always be a right array index\nvar index=dataSource.findIndex(function(x){return x.index===restProps['data-row-key'];});return/*#__PURE__*/React.createElement(SortableItem,Object.assign({index:index},restProps));};var DraggableContainer=function DraggableContainer(props){return/*#__PURE__*/React.createElement(SortableContainer,Object.assign({useDragHandle:true,helperClass:\"row-dragging\",onSortEnd:onSortEnd},props));};var onInputChange=function onInputChange(e){setState(_objectSpread(_objectSpread({},state),{},{inputData:e.target.value}));};var onSubmitHandler=function onSubmitHandler(){var arrayData=[];todoData.map(function(data){return arrayData.push(data.key);});var max=Math.max.apply(Math,arrayData);if(inputData!==''){dispatch(ToDoAddData([].concat(_toConsumableArray(todoData),[{key:max+1,item:inputData,time:new Date().getTime(),favorite:false}])));setState(_objectSpread(_objectSpread({},state),{},{inputData:'',visible:false}));}else{alert('Please Give a Task Title...');}};var showModal=function showModal(){setState(_objectSpread(_objectSpread({},state),{},{visible:true}));};var onCancel=function onCancel(){setState(_objectSpread(_objectSpread({},state),{},{visible:false}));};var handleCancel=function handleCancel(){onCancel();};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(PageHeader,{ghost:true,title:\"To Do\",buttons:[/*#__PURE__*/React.createElement(\"div\",{key:\"1\",className:\"page-header-actions\"},/*#__PURE__*/React.createElement(CalendarButtonPageHeader,null),/*#__PURE__*/React.createElement(ExportButtonPageHeader,null),/*#__PURE__*/React.createElement(ShareButtonPageHeader,null),/*#__PURE__*/React.createElement(Button,{size:\"small\",type:\"primary\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"plus\",size:14}),\"Add New\"))]}),/*#__PURE__*/React.createElement(Main,null,/*#__PURE__*/React.createElement(_Row,{gutter:30},/*#__PURE__*/React.createElement(_Col,{md:24},/*#__PURE__*/React.createElement(TodoStyleWrapper,null,/*#__PURE__*/React.createElement(Cards,{title:\"Task Lists\"},/*#__PURE__*/React.createElement(TableWrapper,{className:\"table-responsive\"},/*#__PURE__*/React.createElement(_Table,{rowSelection:_objectSpread({type:'checkbox'},rowSelection),columns:columns,dataSource:dataSource,pagination:false,rowKey:\"index\",components:{body:{wrapper:DraggableContainer,row:DraggableBodyRow}}})),/*#__PURE__*/React.createElement(\"div\",{className:\"new-todo-wrap\"},/*#__PURE__*/React.createElement(Button,{onClick:showModal,className:\"btn-toDoAdd\",transparented:true,type:\"primary\",size:\"large\"},\"+ Add New Task\")))))),/*#__PURE__*/React.createElement(Modal,{type:state.modalType,title:\"Add New Todo\",visible:state.visible,footer:null,onCancel:handleCancel},/*#__PURE__*/React.createElement(\"div\",{className:\"todo-modal\"},/*#__PURE__*/React.createElement(BasicFormWrapper,null,/*#__PURE__*/React.createElement(_Form,{className:\"adTodo-form\",name:\"todoAdd\",form:form,onFinish:onSubmitHandler},/*#__PURE__*/React.createElement(_Input,{value:inputData,onChange:onInputChange,placeholder:\"Input Item Name.......\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{onClick:showModal,htmlType:\"submit\",className:\"btn-adTodo\",type:\"primary\",size:\"large\"},\"Add New\")))))));};export default ToDo;","map":null,"metadata":{},"sourceType":"module"}