{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n}), exports.default = void 0;\nvar _react = _interopRequireDefault(require(\"react\")),\n  _propTypes = _interopRequireDefault(require(\"prop-types\")),\n  _createFirebaseInstance = _interopRequireDefault(require(\"./createFirebaseInstance\")),\n  _ReactReduxFirebaseContext = _interopRequireDefault(require(\"./ReactReduxFirebaseContext\")),\n  _ReduxFirestoreProvider = _interopRequireDefault(require(\"./ReduxFirestoreProvider\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _extends() {\n  return _extends = Object.assign || function (target) {\n    for (var source, i = 1; i < arguments.length; i++) for (var key in source = arguments[i], source) Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n    return target;\n  }, _extends.apply(this, arguments);\n}\nfunction ReactReduxFirebaseProvider() {\n  var props = 0 < arguments.length && arguments[0] !== void 0 ? arguments[0] : {},\n    children = props.children,\n    config = props.config,\n    dispatch = props.dispatch,\n    firebase = props.firebase,\n    initializeAuth = props.initializeAuth,\n    createFirestoreInstance = props.createFirestoreInstance,\n    extendedFirebaseInstance = _react.default.useMemo(function () {\n      var extendedFirebaseInstance = (0, _createFirebaseInstance.default)(firebase, config, dispatch);\n      return initializeAuth && extendedFirebaseInstance.initializeAuth(), extendedFirebaseInstance;\n    }, [firebase, config, dispatch]);\n  return createFirestoreInstance ? _react.default.createElement(_ReactReduxFirebaseContext.default.Provider, {\n    value: extendedFirebaseInstance\n  }, _react.default.createElement(_ReduxFirestoreProvider.default, _extends({}, props, {\n    initializeAuth: !1\n  }), children)) : _react.default.createElement(_ReactReduxFirebaseContext.default.Provider, {\n    value: extendedFirebaseInstance\n  }, children);\n}\nReactReduxFirebaseProvider.defaultProps = {\n  initializeAuth: !0\n}, ReactReduxFirebaseProvider.propTypes = {\n  children: _propTypes.default.node,\n  config: _propTypes.default.object.isRequired,\n  dispatch: _propTypes.default.func.isRequired,\n  firebase: _propTypes.default.object.isRequired,\n  initializeAuth: _propTypes.default.bool,\n  createFirestoreInstance: _propTypes.default.func\n};\nvar _default = ReactReduxFirebaseProvider;\nexports.default = _default, module.exports = exports.default;","map":{"version":3,"sources":["../src/ReactReduxFirebaseProvider.js"],"names":["ReactReduxFirebaseProvider","props","children","config","dispatch","firebase","initializeAuth","createFirestoreInstance","extendedFirebaseInstance","React","useMemo","defaultProps","propTypes","PropTypes","node","object","isRequired","func","bool"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAmBA,SAASA,0BAAT,CAAA,EAAgD;EAAZC,IAAAA,KAAY,GAAA,CAAA,GAAA,SAAA,CAAA,MAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,KAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAJ,CAAA,CAAI;IAE5CC,QAF4C,GAQ1CD,KAR0C,CAE5CC,QAF4C;IAG5CC,MAH4C,GAQ1CF,KAR0C,CAG5CE,MAH4C;IAI5CC,QAJ4C,GAQ1CH,KAR0C,CAI5CG,QAJ4C;IAK5CC,QAL4C,GAQ1CJ,KAR0C,CAK5CI,QAL4C;IAM5CC,cAN4C,GAQ1CL,KAR0C,CAM5CK,cAN4C;IAO5CC,uBAP4C,GAQ1CN,KAR0C,CAO5CM,uBAP4C;IASxCC,wBAAwB,GAAGC,MAAAA,CAAAA,OAAAA,CAAMC,OAAND,CAAc,YAAM;MACnD,IAAMD,wBAAwB,GAAG,CAAA,CAAA,EAAA,uBAAA,CAAA,OAAA,EAC/BH,QAD+B,EAE/BF,MAF+B,EAG/BC,QAH+B,CAAjC;MAKIE,OAAAA,cAGJ,IAFEE,wBAAwB,CAACF,cAAzBE,CAAAA,CAEF,EAAOA,wBACR;IAAA,CAVgCC,EAU9B,CAACJ,QAAD,EAAWF,MAAX,EAAmBC,QAAnB,CAV8BK,CATa;EAAA,OAqB1CF,uBArB0C,GAuB1C,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,0BAAA,CAAA,OAAD,CAA2B,QAA3B,EAAA;IAAoC,KAAK,EAAEC;EAA3C,CAAA,EACE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,uBAAA,CAAA,OAAD,EAAA,QAAA,CAAA,CAAA,CAAA,EAA4BP,KAA5B,EAAA;IAAmC,cAAc,EAAA,CAAA;EAAjD,CAAA,CAAA,EACGC,QADH,CADF,CAvB0C,GA+B5C,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,0BAAA,CAAA,OAAD,CAA2B,QAA3B,EAAA;IAAoC,KAAK,EAAEM;EAA3C,CAAA,EACGN,QADH,CAIH;AAAA;AAEDF,0BAA0B,CAACW,YAA3BX,GAA0C;EACxCM,cAAc,EAAA,CAAA;AAD0B,C,EAI1CN,0BAA0B,CAACY,SAA3BZ,GAAuC;EACrCE,QAAQ,EAAEW,UAAAA,CAAAA,OAAAA,CAAUC,IADiB;EAErCX,MAAM,EAAEU,UAAAA,CAAAA,OAAAA,CAAUE,MAAVF,CAAiBG,UAFY;EAGrCZ,QAAQ,EAAES,UAAAA,CAAAA,OAAAA,CAAUI,IAAVJ,CAAeG,UAHY;EAIrCX,QAAQ,EAAEQ,UAAAA,CAAAA,OAAAA,CAAUE,MAAVF,CAAiBG,UAJU;EAKrCV,cAAc,EAAEO,UAAAA,CAAAA,OAAAA,CAAUK,IALW;EAMrCX,uBAAuB,EAAEM,UAAAA,CAAAA,OAAAA,CAAUI;AANE,C;eASxBjB,0B","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport createFirebaseInstance from './createFirebaseInstance'\nimport ReactReduxFirebaseContext from './ReactReduxFirebaseContext'\nimport ReduxFirestoreProvider from './ReduxFirestoreProvider'\n\n/**\n * @description Provider for context containing extended firebase\n * instance created by react-redux-firebase.\n * @param {object} props - Component props\n * @param {object} props.config - react-redux-firebase config\n * @param {Function} props.dispatch - Redux's dispatch function\n * @param {object} props.firebase - Firebase library\n * @param {boolean} props.initializeAuth - Whether or not to initialize auth\n * @param {Function} props.createFirestoreInstance - Function for creating\n * extended firestore instance\n * @returns {React.Context.Provider} Provider for react-redux-firebase context\n * @see https://react-redux-firebase.com/api/docs/ReactReduxFirebaseProvider.html\n */\nfunction ReactReduxFirebaseProvider(props = {}) {\n  const {\n    children,\n    config,\n    dispatch,\n    firebase,\n    initializeAuth,\n    createFirestoreInstance\n  } = props\n  const extendedFirebaseInstance = React.useMemo(() => {\n    const extendedFirebaseInstance = createFirebaseInstance(\n      firebase,\n      config,\n      dispatch\n    )\n    if (initializeAuth) {\n      extendedFirebaseInstance.initializeAuth()\n    }\n    return extendedFirebaseInstance\n  }, [firebase, config, dispatch])\n  // Initialize auth if not disabled\n  if (createFirestoreInstance) {\n    return (\n      <ReactReduxFirebaseContext.Provider value={extendedFirebaseInstance}>\n        <ReduxFirestoreProvider {...props} initializeAuth={false}>\n          {children}\n        </ReduxFirestoreProvider>\n      </ReactReduxFirebaseContext.Provider>\n    )\n  }\n  return (\n    <ReactReduxFirebaseContext.Provider value={extendedFirebaseInstance}>\n      {children}\n    </ReactReduxFirebaseContext.Provider>\n  )\n}\n\nReactReduxFirebaseProvider.defaultProps = {\n  initializeAuth: true\n}\n\nReactReduxFirebaseProvider.propTypes = {\n  children: PropTypes.node,\n  config: PropTypes.object.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  firebase: PropTypes.object.isRequired,\n  initializeAuth: PropTypes.bool,\n  createFirestoreInstance: PropTypes.func\n}\n\nexport default ReactReduxFirebaseProvider\n"]},"metadata":{},"sourceType":"script"}