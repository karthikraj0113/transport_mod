{"ast":null,"code":"import\"antd/es/table/style\";import _Table from\"antd/es/table\";import _objectWithoutProperties from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";var _excluded=[\"className\",\"style\"];import React,{useState}from'react';import{useSelector}from'react-redux';import FeatherIcon from'feather-icons-react';import{sortableContainer,sortableElement,sortableHandle}from'react-sortable-hoc';import arrayMove from'array-move';import{TableWrapper,DragDropStyle}from'../styled';import Heading from'../../components/heading/heading';import{Button}from'../../components/buttons/buttons';import{Cards}from'../../components/cards/frame/cards-frame';var DragHandle=sortableHandle(function(){return/*#__PURE__*/React.createElement(FeatherIcon,{style:{cursor:'pointer',color:'#999'},icon:\"move\"});});var DragAndDropTable=function DragAndDropTable(){var _useSelector=useSelector(function(state){return{users:state.users};}),users=_useSelector.users;var usersTableData=[];users.map(function(user,index){var name=user.name,designation=user.designation,img=user.img;return usersTableData.push({key:index+1,index:index,user:/*#__PURE__*/React.createElement(\"div\",{className:\"user-info\"},/*#__PURE__*/React.createElement(\"figure\",null,/*#__PURE__*/React.createElement(\"img\",{style:{width:'40px'},src:require(\"../../\".concat(img)),alt:\"\"})),/*#__PURE__*/React.createElement(\"figcaption\",null,/*#__PURE__*/React.createElement(Heading,{className:\"user-name\",as:\"h6\"},name))),email:/*#__PURE__*/React.createElement(\"span\",{className:\"drag_email\"},\"john@gmail.com\"),company:/*#__PURE__*/React.createElement(\"span\",{className:\"drag_company\"},\"Business Development\"),position:/*#__PURE__*/React.createElement(\"span\",{className:\"drag_designation\"},designation),joinDate:/*#__PURE__*/React.createElement(\"span\",{className:\"drag_join-date\"},\"January 20, 2020\"),action:/*#__PURE__*/React.createElement(\"div\",{className:\"table-actions\"},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn-icon\",type:\"info\",to:\"#\",shape:\"circle\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"edit\",size:16})),/*#__PURE__*/React.createElement(Button,{className:\"btn-icon\",type:\"danger\",to:\"#\",shape:\"circle\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"trash-2\",size:16}))))});});var usersTableColumns=[{dataIndex:'sort',width:30,className:'drag-visible',render:function render(){return/*#__PURE__*/React.createElement(DragHandle,null);}},{dataIndex:'user'},{dataIndex:'email'},{dataIndex:'company'},{dataIndex:'position'},{dataIndex:'joinDate'},{dataIndex:'action',width:'90px'}];var _useState=useState({dataSource:usersTableData}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var dataSource=state.dataSource;var SortableItem=sortableElement(function(props){return/*#__PURE__*/React.createElement(\"tr\",props);});var SortableContainer=sortableContainer(function(props){return/*#__PURE__*/React.createElement(\"tbody\",props);});var onSortEnd=function onSortEnd(_ref){var oldIndex=_ref.oldIndex,newIndex=_ref.newIndex;if(oldIndex!==newIndex){var newData=arrayMove([].concat(dataSource),oldIndex,newIndex).filter(function(el){return!!el;});setState(_objectSpread(_objectSpread({},state),{},{dataSource:newData}));}};var DraggableBodyRow=function DraggableBodyRow(_ref2){var className=_ref2.className,style=_ref2.style,restProps=_objectWithoutProperties(_ref2,_excluded);// function findIndex base on Table rowKey props and should always be a right array index\nvar index=dataSource.findIndex(function(x){return x.index===restProps['data-row-key'];});return/*#__PURE__*/React.createElement(SortableItem,Object.assign({index:index},restProps));};var DraggableContainer=function DraggableContainer(props){return/*#__PURE__*/React.createElement(SortableContainer,Object.assign({useDragHandle:true,helperClass:\"row-dragging\",onSortEnd:onSortEnd},props));};return/*#__PURE__*/React.createElement(DragDropStyle,null,/*#__PURE__*/React.createElement(Cards,{title:\"Drag & Drop\"},/*#__PURE__*/React.createElement(TableWrapper,{className:\"table-responsive\"},/*#__PURE__*/React.createElement(_Table,{pagination:false,dataSource:dataSource,columns:usersTableColumns,rowKey:\"index\",components:{body:{wrapper:DraggableContainer,row:DraggableBodyRow}}}))));};export default DragAndDropTable;","map":null,"metadata":{},"sourceType":"module"}