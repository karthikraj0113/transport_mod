{"ast":null,"code":"import\"antd/es/input/style\";import _Input from\"antd/es/input\";import\"antd/es/row/style\";import _Row from\"antd/es/row\";import\"antd/es/col/style\";import _Col from\"antd/es/col\";import\"antd/es/table/style\";import _Table from\"antd/es/table\";import _toConsumableArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import\"antd/es/form/style\";import _Form from\"antd/es/form\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useSelector,useDispatch}from'react-redux';import FeatherIcon from'feather-icons-react';import{Link}from'react-router-dom';import{Action,ContactPageheaderStyle}from'./style';import{PageHeader}from'../../components/page-headers/page-headers';import{Main,TableWrapper,CardToolbox,BasicFormWrapper}from'../styled';import Heading from'../../components/heading/heading';import{AutoComplete}from'../../components/autoComplete/autoComplete';import{Button}from'../../components/buttons/buttons';import{Cards}from'../../components/cards/frame/cards-frame';import{AddUser,UserTableStyleWrapper}from'../pages/style';import{onStarUpdate,contactDeleteData,contactSearchData,contactAddData}from'../../redux/contact/actionCreator';import{Dropdown}from'../../components/dropdown/dropdown';import{Modal}from'../../components/modals/antd-modals';var ContactTable=function ContactTable(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{users:state.Contact.data};}),users=_useSelector.users;var _Form$useForm=_Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var _useState=useState({selectedRowKeys:0,selectedRows:0,visible:false,editVisible:false,modalType:'primary',url:null,update:{}}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var update=state.update;var handleSearch=function handleSearch(searchText){dispatch(contactSearchData(searchText));};var onHandleDelete=function onHandleDelete(id){var value=users.filter(function(item){return item.id!==id;});dispatch(contactDeleteData(value));};var showModal=function showModal(){setState(_objectSpread(_objectSpread({},state),{},{visible:true}));};var showEditModal=function showEditModal(data){setState(_objectSpread(_objectSpread({},state),{},{editVisible:true,update:data}));};var onCancel=function onCancel(){setState(_objectSpread(_objectSpread({},state),{},{visible:false,editVisible:false}));};var handleOk=function handleOk(values){onCancel();var arrayData=[];users.map(function(data){return arrayData.push(data.id);});var max=Math.max.apply(Math,arrayData);dispatch(contactAddData([].concat(_toConsumableArray(users),[_objectSpread(_objectSpread({},values),{},{id:max+1,time:new Date().getTime(),img:'static/img/users/6.png',live:false,stared:false})])));form.resetFields();};var handleEditOk=function handleEditOk(values){onCancel();var updateUsers=users;updateUsers.map(function(user){if(user.id===update.id){var updateUser=user;updateUser.id=update.id;updateUser.name=values.name;updateUser.email=values.email;updateUser.phone=values.phone;updateUser.designation=values.designation;updateUser.company=values.company;updateUser.time=update.time;updateUser.img=update.img;updateUser.stared=update.stared;}return true;});dispatch(contactAddData(updateUsers));form.resetFields();};var handleCancel=function handleCancel(){onCancel();};var usersTableData=[];users.sort(function(a,b){return b.time-a.time;}).map(function(user){var id=user.id,name=user.name,designation=user.designation,img=user.img,stared=user.stared,email=user.email,phone=user.phone,company=user.company;return usersTableData.push({key:id,user:/*#__PURE__*/React.createElement(\"div\",{className:\"user-info\"},/*#__PURE__*/React.createElement(\"figure\",null,/*#__PURE__*/React.createElement(\"img\",{style:{width:'40px'},src:require(\"../../\".concat(img)),alt:\"\"})),/*#__PURE__*/React.createElement(\"figcaption\",null,/*#__PURE__*/React.createElement(Heading,{className:\"user-name\",as:\"h6\"},name),/*#__PURE__*/React.createElement(\"span\",{className:\"user-designation\"},\"San Francisco, CA\"))),email:email,company:company,position:designation,phone:phone,action:/*#__PURE__*/React.createElement(Action,{className:\"table-actions\"},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return dispatch(onStarUpdate(users,id));},className:\"btn-icon\",type:\"primary\",to:\"#\",shape:\"circle\"},/*#__PURE__*/React.createElement(FeatherIcon,{className:stared?'active':'deactivate',icon:\"star\",size:16})),/*#__PURE__*/React.createElement(Dropdown,{className:\"wide-dropdwon\",content:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return showEditModal(user,id);},to:\"#\"},/*#__PURE__*/React.createElement(\"span\",null,\"Edit\")),/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return onHandleDelete(id);},to:\"#\"},/*#__PURE__*/React.createElement(\"span\",null,\"Delete\"))),action:['click']},/*#__PURE__*/React.createElement(Button,{className:\"btn-icon\",type:\"info\",to:\"#\",shape:\"circle\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"more-vertical\",size:16}))))});});var usersTableColumns=[{title:'User',dataIndex:'user',key:'user'},{title:'Email',dataIndex:'email',key:'email'},{title:'Company',dataIndex:'company',key:'company'},{title:'Position',dataIndex:'position',key:'position'},{title:'Phone',dataIndex:'phone',key:'phone'},{title:'',dataIndex:'action',key:'action',width:'90px'}];var rowSelection={onChange:function onChange(selectedRowKeys,selectedRows){setState(_objectSpread(_objectSpread({},state),{},{selectedRowKeys:selectedRowKeys,selectedRows:selectedRows}));},getCheckboxProps:function getCheckboxProps(record){return{disabled:record.name==='Disabled User',// Column configuration not to be checked\nname:record.name};}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CardToolbox,null,/*#__PURE__*/React.createElement(ContactPageheaderStyle,null,/*#__PURE__*/React.createElement(PageHeader,{ghost:true,title:\"Contacts\",subTitle:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(AutoComplete,{onSearch:handleSearch// dataSource={notData}\n,placeholder:\"Search by Name\",width:\"100%\",patterns:true})),buttons:[/*#__PURE__*/React.createElement(Button,{onClick:showModal,className:\"btn-add_new\",size:\"default\",type:\"primary\",key:\"1\"},/*#__PURE__*/React.createElement(Link,{to:\"#\"},\"+ Add New\"))]}))),/*#__PURE__*/React.createElement(Main,null,/*#__PURE__*/React.createElement(_Row,{gutter:15},/*#__PURE__*/React.createElement(_Col,{xs:24},/*#__PURE__*/React.createElement(Cards,{headless:true},/*#__PURE__*/React.createElement(UserTableStyleWrapper,null,/*#__PURE__*/React.createElement(\"div\",{className:\"contact-table\"},/*#__PURE__*/React.createElement(TableWrapper,{className:\"table-responsive\"},/*#__PURE__*/React.createElement(_Table,{rowSelection:rowSelection,dataSource:usersTableData,columns:usersTableColumns,pagination:{defaultPageSize:7,total:usersTableData.length,showTotal:function showTotal(total,range){return\"\".concat(range[0],\"-\").concat(range[1],\" of \").concat(total,\" items\");}}}))))))),/*#__PURE__*/React.createElement(Modal,{type:state.modalType,title:\"Contact Information\",visible:state.visible,footer:null,onCancel:handleCancel},/*#__PURE__*/React.createElement(\"div\",{className:\"project-modal\"},/*#__PURE__*/React.createElement(AddUser,null,/*#__PURE__*/React.createElement(BasicFormWrapper,null,/*#__PURE__*/React.createElement(_Form,{form:form,name:\"contact\",onFinish:handleOk},/*#__PURE__*/React.createElement(_Form.Item,{label:\"Name\",name:\"name\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Input Name\"})),/*#__PURE__*/React.createElement(_Form.Item,{label:\"Email Address\",name:\"email\",rules:[{message:'Please input your email!',type:'email'}]},/*#__PURE__*/React.createElement(_Input,{placeholder:\"name@example.com\"})),/*#__PURE__*/React.createElement(_Form.Item,{name:\"phone\",label:\"Phone Number\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"+440 2546 5236\"})),/*#__PURE__*/React.createElement(_Form.Item,{name:\"designation\",label:\"Position\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Input Position\"})),/*#__PURE__*/React.createElement(_Form.Item,{name:\"company\",label:\"Company Name\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Company Name\"})),/*#__PURE__*/React.createElement(Button,{htmlType:\"submit\",size:\"default\",type:\"primary\",key:\"submit\"},\"Add New Contact\")))))),/*#__PURE__*/React.createElement(Modal,{type:state.modalType,title:\"Contact Information\",visible:state.editVisible,footer:null,onCancel:handleCancel},/*#__PURE__*/React.createElement(\"div\",{className:\"project-modal\"},/*#__PURE__*/React.createElement(AddUser,null,/*#__PURE__*/React.createElement(BasicFormWrapper,null,/*#__PURE__*/React.createElement(_Form,{form:form,name:\"contactEdit\",onFinish:handleEditOk},/*#__PURE__*/React.createElement(_Form.Item,{initialValue:update.name,label:\"Name\",name:\"name\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Input Name\"})),/*#__PURE__*/React.createElement(_Form.Item,{label:\"Email Address\",name:\"email\",rules:[{message:'Please input your email!',type:'email'}],initialValue:update.email},/*#__PURE__*/React.createElement(_Input,{placeholder:\"name@example.com\"})),/*#__PURE__*/React.createElement(_Form.Item,{initialValue:update.phone,name:\"phone\",label:\"Phone Number\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"+440 2546 5236\"})),/*#__PURE__*/React.createElement(_Form.Item,{initialValue:update.designation,name:\"designation\",label:\"Position\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Input Position\"})),/*#__PURE__*/React.createElement(_Form.Item,{initialValue:update.company,name:\"company\",label:\"Company Name\"},/*#__PURE__*/React.createElement(_Input,{placeholder:\"Company Name\"})),/*#__PURE__*/React.createElement(Button,{htmlType:\"submit\",size:\"default\",type:\"primary\",key:\"submit\"},\"Add New Contact\"))))))));};export default ContactTable;","map":null,"metadata":{},"sourceType":"module"}