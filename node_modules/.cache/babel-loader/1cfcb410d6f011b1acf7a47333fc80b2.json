{"ast":null,"code":"import\"antd/es/upload/style\";import _Upload from\"antd/es/upload\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import\"antd/es/message/style\";import _message from\"antd/es/message\";import _objectSpread from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\diskk\\\\OneDrive\\\\Desktop\\\\New folder\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import\"antd/es/comment/style\";import _Comment from\"antd/es/comment\";import\"antd/es/avatar/style\";import _Avatar from\"antd/es/avatar\";/* eslint-disable jsx-a11y/click-events-have-key-events */ /* eslint-disable jsx-a11y/no-static-element-interactions */import React,{useState}from'react';import FeatherIcon from'feather-icons-react';import{Link}from'react-router-dom';import Masonry from'react-masonry-css';import Picker from'emoji-picker-react';import moment from'moment';import{useSelector,useDispatch}from'react-redux';import SimpleReactLightbox,{SRLWrapper}from'simple-react-lightbox';import{AllPosts,BackShadowEmoji,Title}from'./style';import{Cards}from'../../../../../components/cards/frame/cards-frame';import{Button}from'../../../../../components/buttons/buttons';import{likeUpdate,commentUpdate,postDelete}from'../../../../../redux/profile/actionCreator';var ExampleComment=function ExampleComment(_ref){var children=_ref.children,replay=_ref.replay;return/*#__PURE__*/React.createElement(_Comment,{actions:[/*#__PURE__*/React.createElement(\"span\",{className:\"com-like\",key:\"comment-nested-reply-to\"},\"Like\",' '),/*#__PURE__*/React.createElement(\"span\",{className:\"com-reply\",key:\"comment-nested-reply-to\"},\"Reply\",' '),/*#__PURE__*/React.createElement(\"span\",{className:\"com-time\",key:\"comment-nested-reply-to\"},moment(parseInt(replay.time,10)).fromNow())],author:/*#__PURE__*/React.createElement(\"span\",null,replay.name),avatar:/*#__PURE__*/React.createElement(_Avatar,{src:\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",alt:\"Han Solo\"}),content:/*#__PURE__*/React.createElement(\"p\",null,replay.text)},children);};var Posts=function Posts(_ref2){var postId=_ref2.postId,from=_ref2.from,time=_ref2.time,img=_ref2.img,like=_ref2.like,comment=_ref2.comment,content=_ref2.content,author=_ref2.author;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{posts:state.Profile.posts};}),posts=_useSelector.posts;var _useState=useState({inputValue:'',fileList:[],fileList2:[]}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),pickerShow=_useState4[0],setPickerShow=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),textValue=_useState6[0],setTextValue=_useState6[1];var onEmojiClick=function onEmojiClick(event,emojiObject){setTextValue(textValue+emojiObject.emoji);};var onPickerShow=function onPickerShow(){setPickerShow(!pickerShow);};var onTextChange=function onTextChange(e){setTextValue(e.target.value);};var props={name:'file',action:'https://www.mocky.io/v2/5cc8019d300000980a055e76',headers:{authorization:'authorization-text'},listType:'picture-card',onChange:function onChange(info){if(info.file.status!=='uploading'){// console.log(info.file, info.fileList);\nsetState(_objectSpread(_objectSpread({},state),{},{fileList:info.fileList}));}if(info.file.status==='done'){_message.success(\"\".concat(info.file.name,\" file uploaded successfully\"));}else if(info.file.status==='error'){_message.error(\"\".concat(info.file.name,\" file upload failed.\"));}}};var attachment={name:'file',action:'https://www.mocky.io/v2/5cc8019d300000980a055e76',headers:{authorization:'authorization-text'},onChange:function onChange(info){if(info.file.status!=='uploading'){// console.log(info.file, info.fileList);\nsetState(_objectSpread(_objectSpread({},state),{},{fileList2:info.fileList}));}if(info.file.status==='done'){_message.success(\"\".concat(info.file.name,\" file uploaded successfully\"));}else if(info.file.status==='error'){_message.error(\"\".concat(info.file.name,\" file upload failed.\"));}}};var onLikeUpdate=function onLikeUpdate(id){return dispatch(likeUpdate(posts,id));};var onCommentUpdate=function onCommentUpdate(id){dispatch(commentUpdate(posts,id,textValue));setTextValue('');};var onPostDelete=function onPostDelete(id){dispatch(postDelete(posts,id));};return/*#__PURE__*/React.createElement(SimpleReactLightbox,null,/*#__PURE__*/React.createElement(AllPosts,null,/*#__PURE__*/React.createElement(Cards,{title:/*#__PURE__*/React.createElement(Title,null,/*#__PURE__*/React.createElement(\"img\",{src:require(\"../../../../../\".concat(author)),alt:\"\"}),/*#__PURE__*/React.createElement(\"p\",null,from,\" \",/*#__PURE__*/React.createElement(\"span\",null,moment(parseInt(time,10)).fromNow()))),more:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return onPostDelete(postId);},to:\"#\"},\"Delete\"))},/*#__PURE__*/React.createElement(\"div\",{className:\"post-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"gallery\"},img.length?/*#__PURE__*/React.createElement(SRLWrapper,null,/*#__PURE__*/React.createElement(Masonry,{breakpointCols:img.length<=2?img.length:2,className:\"my-masonry-grid\",columnClassName:\"my-masonry-grid_column\"},img.map(function(src,key){return key<=1&&/*#__PURE__*/React.createElement(\"a\",{key:key+1,href:require(\"../../../../../\".concat(src)),\"data-attribute\":\"SRL\"},/*#__PURE__*/React.createElement(\"img\",{key:key+1,style:{width:'100%'},src:require(\"../../../../../\".concat(src)),alt:\"\"}));})),img.length>2&&/*#__PURE__*/React.createElement(Masonry,{breakpointCols:img.length<=2?img.length:3,className:\"my-masonry-grid\",columnClassName:\"my-masonry-grid_column\"},img.map(function(src,key){return key>1&&/*#__PURE__*/React.createElement(\"a\",{key:key+1,href:require(\"../../../../../\".concat(src)),\"data-attribute\":\"SRL\"},/*#__PURE__*/React.createElement(\"img\",{key:key+1,style:{width:'100%'},src:require(\"../../../../../\".concat(src)),alt:\"\"}));}))):null),/*#__PURE__*/React.createElement(\"div\",{className:\"post-text\"},/*#__PURE__*/React.createElement(\"p\",null,content)),/*#__PURE__*/React.createElement(\"div\",{className:\"post-actions\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return onLikeUpdate(postId);},to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"thumbs-up\",size:14})),like),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"message-square\",size:14})),comment.length),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"share-2\",size:14}),\"Share\")),/*#__PURE__*/React.createElement(\"div\",{className:\"post-comments\"},/*#__PURE__*/React.createElement(\"div\",{className:\"commentArea\"},/*#__PURE__*/React.createElement(\"div\",{className:\"comment-form\"},/*#__PURE__*/React.createElement(\"img\",{src:require('../../../../../static/img/chat-author/t2.jpg'),alt:\"\"}),/*#__PURE__*/React.createElement(_Input.TextArea,{onChange:onTextChange,value:textValue,placeholder:\"Write comment....\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"chatbox-reply-action d-flex\"},/*#__PURE__*/React.createElement(\"span\",{className:\"smile-icon\"},pickerShow&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(BackShadowEmoji,{onClick:function onClick(){return setPickerShow(false);}}),/*#__PURE__*/React.createElement(Picker,{onEmojiClick:onEmojiClick})),/*#__PURE__*/React.createElement(Link,{onClick:onPickerShow,to:\"#\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"smile\",size:24}))),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(_Upload,props,/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"image\",size:18}))),/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(_Upload,attachment,/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"paperclip\",size:18}))))),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return textValue===''?alert('Please input your comment...'):onCommentUpdate(postId);},type:\"primary\",className:\"btn-send\"},/*#__PURE__*/React.createElement(FeatherIcon,{icon:\"send\",size:18})))),comment.length?/*#__PURE__*/React.createElement(\"div\",{className:\"commentReplay\"},/*#__PURE__*/React.createElement(ExampleComment,{replay:{time:comment[0].time,name:comment[0].from,text:comment[0].text}},comment.length>1?comment.map(function(item,key){return key>=1&&/*#__PURE__*/React.createElement(ExampleComment,{replay:{time:item.time,name:item.name,text:item.text}});}):null)):null))));};export default Posts;","map":null,"metadata":{},"sourceType":"module"}